{"filter":false,"title":"applications.js","tooltip":"/studio/finalfinal/assets/js/applications.js","undoManager":{"stack":[[{"start":{"row":0,"column":0},"end":{"row":157,"column":23},"action":"insert","lines":["width = verge.viewportW();","height = verge.viewportH();","","","buildTess = function(width,height){","    // var counter = 0;","    var svg;","    var path,path2,path3;","    var animate;","    var points = 50;","    var width = width,","      height = height;","    var vertices,","        vertices2,","        vertices3;","    var point = [1,1];","    //setting x and y speed by % of viewport seems to give better performance then hard coded pixel amounts","    var xVelocity = width * 0.002;","    var yVelocity = height * 0.0025;"," ","","    loadVertices(points);","","    function newVertices(points) {","      return d3.range(points).map(function(d) {","      return [Math.random() * width, Math.random() * height];","      });","    }","","    var voronoi = d3.geom.voronoi()","        .clipExtent([[0, 0], [width, height]]);","","    function zoomView() {","          var points = vertices.length;","          var fontSize = parseInt($(\"div.top h1\").css(\"font-size\").split(\"px\")[0]);","          if (points >= 20) {","            points = points-10;","            $(\"div.top h1\").css(\"font-size\",fontSize+10);","          }","          loadVertices(points);","          render();","","    };","","    var drag = d3.behavior.drag()","        .on(\"dragstart\", function() {","            //clear auto calling animate when dragging begins","            clearInterval(animate);","        })","        .on(\"drag\", function(){","          //touch events","          touchXY = [d3.event.x,d3.event.y];","          point = touchXY;","          render();","        })","        .on(\"dragend\", function() {","          animate = setInterval(function(){render();}, 5);","        })","","","    ","      svg = d3.select(\"#chart\").append(\"svg\")","        .attr(\"width\", width)","        .attr(\"height\", height)","     //remove the following listeners if you simply want animation and no interaction ","        .on(\"mousemove\", function() {","          //stop calling animate when mouse takes control","          clearInterval(animate);","          var mouseXY = d3.mouse(this);","          point = mouseXY;","          render();","          })","        .on(\"click\",function(){","          var mouseXY = [d3.event.x,d3.event.y];","          point = mouseXY;","          //reduce number of nodes on screen to give illusion of zooming in","          zoomView(point);","        })","        .on('mouseleave', function() {","          //restart animation after mouse lives viewport","          animate  = setInterval(function(){render();}, 5);","        })","        .call(drag);","  ","  ","      path = svg.append(\"g\").selectAll(\"path\");","      path2 = svg.append(\"g\").selectAll(\"path\");","      path3 = svg.append(\"g\").selectAll(\"path\");","","","  svg.append(\"rect\")","      .attr(\"width\", width)","      .attr(\"height\", height);","","  //kick off continuous animation... raising the interval will  trigger the browser to paint and actually reduce performance","  animate = setInterval(function(){render();}, 5);","","  function render () {","    var crntX = point[0];","    var crntY = point[1];","    var newX, newY;","    //if moving point is at the right or left edges switch x direction","    if (crntX >= width || crntX <= 0 ) {","      xVelocity *= -1;","    }","    //if moving point is at the top or bottom edges switch y direction","    if (crntY >= height || crntY <= 0 ) {","      yVelocity *= -1;","    }","    ","    newX = crntX + xVelocity;","    newY = crntY + yVelocity;","","    redraw([newX,newY]);","    point = [newX,newY];","","    ","  }","","  function  loadVertices(points){","    vertices = newVertices(points);","    vertices2 = newVertices(points);","    vertices3 = newVertices(points);","  };","","   function redraw(mouseXY) {","      vertices[0] = mouseXY;","      path = path.data(voronoi(vertices), polygon);","      path.exit().remove();","      path.enter().append(\"path\")","          .attr(\"d\", polygon);","      path.order();","","            vertices2[0] = mouseXY;","      path2 = path2.data(voronoi(vertices2), polygon);","      path2.exit().remove();","      path2.enter().append(\"path\")","          .attr(\"d\", polygon);","      path2.order();","","            vertices3[0] = mouseXY;","      path3 = path3.data(voronoi(vertices3), polygon);","      path3.exit().remove();","      path3.enter().append(\"path\")","          .attr(\"d\", polygon);","      path3.order();","    }","","  function polygon(d) {","    return \"M\" + d.join(\"L\") + \"Z\";","  }","","  function getRandom() {","    return Math.random() * (10 - 3) + 3;","  }","};","","buildTess(width,height)"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":157,"column":23},"action":"remove","lines":["width = verge.viewportW();","height = verge.viewportH();","","","buildTess = function(width,height){","    // var counter = 0;","    var svg;","    var path,path2,path3;","    var animate;","    var points = 50;","    var width = width,","      height = height;","    var vertices,","        vertices2,","        vertices3;","    var point = [1,1];","    //setting x and y speed by % of viewport seems to give better performance then hard coded pixel amounts","    var xVelocity = width * 0.002;","    var yVelocity = height * 0.0025;"," ","","    loadVertices(points);","","    function newVertices(points) {","      return d3.range(points).map(function(d) {","      return [Math.random() * width, Math.random() * height];","      });","    }","","    var voronoi = d3.geom.voronoi()","        .clipExtent([[0, 0], [width, height]]);","","    function zoomView() {","          var points = vertices.length;","          var fontSize = parseInt($(\"div.top h1\").css(\"font-size\").split(\"px\")[0]);","          if (points >= 20) {","            points = points-10;","            $(\"div.top h1\").css(\"font-size\",fontSize+10);","          }","          loadVertices(points);","          render();","","    };","","    var drag = d3.behavior.drag()","        .on(\"dragstart\", function() {","            //clear auto calling animate when dragging begins","            clearInterval(animate);","        })","        .on(\"drag\", function(){","          //touch events","          touchXY = [d3.event.x,d3.event.y];","          point = touchXY;","          render();","        })","        .on(\"dragend\", function() {","          animate = setInterval(function(){render();}, 5);","        })","","","    ","      svg = d3.select(\"#chart\").append(\"svg\")","        .attr(\"width\", width)","        .attr(\"height\", height)","     //remove the following listeners if you simply want animation and no interaction ","        .on(\"mousemove\", function() {","          //stop calling animate when mouse takes control","          clearInterval(animate);","          var mouseXY = d3.mouse(this);","          point = mouseXY;","          render();","          })","        .on(\"click\",function(){","          var mouseXY = [d3.event.x,d3.event.y];","          point = mouseXY;","          //reduce number of nodes on screen to give illusion of zooming in","          zoomView(point);","        })","        .on('mouseleave', function() {","          //restart animation after mouse lives viewport","          animate  = setInterval(function(){render();}, 5);","        })","        .call(drag);","  ","  ","      path = svg.append(\"g\").selectAll(\"path\");","      path2 = svg.append(\"g\").selectAll(\"path\");","      path3 = svg.append(\"g\").selectAll(\"path\");","","","  svg.append(\"rect\")","      .attr(\"width\", width)","      .attr(\"height\", height);","","  //kick off continuous animation... raising the interval will  trigger the browser to paint and actually reduce performance","  animate = setInterval(function(){render();}, 5);","","  function render () {","    var crntX = point[0];","    var crntY = point[1];","    var newX, newY;","    //if moving point is at the right or left edges switch x direction","    if (crntX >= width || crntX <= 0 ) {","      xVelocity *= -1;","    }","    //if moving point is at the top or bottom edges switch y direction","    if (crntY >= height || crntY <= 0 ) {","      yVelocity *= -1;","    }","    ","    newX = crntX + xVelocity;","    newY = crntY + yVelocity;","","    redraw([newX,newY]);","    point = [newX,newY];","","    ","  }","","  function  loadVertices(points){","    vertices = newVertices(points);","    vertices2 = newVertices(points);","    vertices3 = newVertices(points);","  };","","   function redraw(mouseXY) {","      vertices[0] = mouseXY;","      path = path.data(voronoi(vertices), polygon);","      path.exit().remove();","      path.enter().append(\"path\")","          .attr(\"d\", polygon);","      path.order();","","            vertices2[0] = mouseXY;","      path2 = path2.data(voronoi(vertices2), polygon);","      path2.exit().remove();","      path2.enter().append(\"path\")","          .attr(\"d\", polygon);","      path2.order();","","            vertices3[0] = mouseXY;","      path3 = path3.data(voronoi(vertices3), polygon);","      path3.exit().remove();","      path3.enter().append(\"path\")","          .attr(\"d\", polygon);","      path3.order();","    }","","  function polygon(d) {","    return \"M\" + d.join(\"L\") + \"Z\";","  }","","  function getRandom() {","    return Math.random() * (10 - 3) + 3;","  }","};","","buildTess(width,height)"],"id":2},{"start":{"row":0,"column":0},"end":{"row":157,"column":23},"action":"insert","lines":["width = verge.viewportW();","height = verge.viewportH();","","","buildTess = function(width,height){","    // var counter = 0;","    var svg;","    var path,path2,path3;","    var animate;","    var points = 50;","    var width = width,","      height = height;","    var vertices,","        vertices2,","        vertices3;","    var point = [1,1];","    //setting x and y speed by % of viewport seems to give better performance then hard coded pixel amounts","    var xVelocity = width * 0.002;","    var yVelocity = height * 0.0025;"," ","","    loadVertices(points);","","    function newVertices(points) {","      return d3.range(points).map(function(d) {","      return [Math.random() * width, Math.random() * height];","      });","    }","","    var voronoi = d3.geom.voronoi()","        .clipExtent([[0, 0], [width, height]]);","","    function zoomView() {","          var points = vertices.length;","          var fontSize = parseInt($(\"div.top h1\").css(\"font-size\").split(\"px\")[0]);","          if (points >= 20) {","            points = points-10;","            $(\"div.top h1\").css(\"font-size\",fontSize+10);","          }","          loadVertices(points);","          render();","","    };","","    var drag = d3.behavior.drag()","        .on(\"dragstart\", function() {","            //clear auto calling animate when dragging begins","            clearInterval(animate);","        })","        .on(\"drag\", function(){","          //touch events","          touchXY = [d3.event.x,d3.event.y];","          point = touchXY;","          render();","        })","        .on(\"dragend\", function() {","          animate = setInterval(function(){render();}, 5);","        })","","","    ","      svg = d3.select(\"#chart\").append(\"svg\")","        .attr(\"width\", width)","        .attr(\"height\", height)","     //remove the following listeners if you simply want animation and no interaction ","        .on(\"mousemove\", function() {","          //stop calling animate when mouse takes control","          clearInterval(animate);","          var mouseXY = d3.mouse(this);","          point = mouseXY;","          render();","          })","        .on(\"click\",function(){","          var mouseXY = [d3.event.x,d3.event.y];","          point = mouseXY;","          //reduce number of nodes on screen to give illusion of zooming in","          zoomView(point);","        })","        .on('mouseleave', function() {","          //restart animation after mouse lives viewport","          animate  = setInterval(function(){render();}, 5);","        })","        .call(drag);","  ","  ","      path = svg.append(\"g\").selectAll(\"path\");","      path2 = svg.append(\"g\").selectAll(\"path\");","      path3 = svg.append(\"g\").selectAll(\"path\");","","","  svg.append(\"rect\")","      .attr(\"width\", width)","      .attr(\"height\", height);","","  //kick off continuous animation... raising the interval will  trigger the browser to paint and actually reduce performance","  animate = setInterval(function(){render();}, 5);","","  function render () {","    var crntX = point[0];","    var crntY = point[1];","    var newX, newY;","    //if moving point is at the right or left edges switch x direction","    if (crntX >= width || crntX <= 0 ) {","      xVelocity *= -1;","    }","    //if moving point is at the top or bottom edges switch y direction","    if (crntY >= height || crntY <= 0 ) {","      yVelocity *= -1;","    }","    ","    newX = crntX + xVelocity;","    newY = crntY + yVelocity;","","    redraw([newX,newY]);","    point = [newX,newY];","","    ","  }","","  function  loadVertices(points){","    vertices = newVertices(points);","    vertices2 = newVertices(points);","    vertices3 = newVertices(points);","  };","","   function redraw(mouseXY) {","      vertices[0] = mouseXY;","      path = path.data(voronoi(vertices), polygon);","      path.exit().remove();","      path.enter().append(\"path\")","          .attr(\"d\", polygon);","      path.order();","","            vertices2[0] = mouseXY;","      path2 = path2.data(voronoi(vertices2), polygon);","      path2.exit().remove();","      path2.enter().append(\"path\")","          .attr(\"d\", polygon);","      path2.order();","","            vertices3[0] = mouseXY;","      path3 = path3.data(voronoi(vertices3), polygon);","      path3.exit().remove();","      path3.enter().append(\"path\")","          .attr(\"d\", polygon);","      path3.order();","    }","","  function polygon(d) {","    return \"M\" + d.join(\"L\") + \"Z\";","  }","","  function getRandom() {","    return Math.random() * (10 - 3) + 3;","  }","};","","buildTess(width,height)"]}],[{"start":{"row":157,"column":23},"end":{"row":158,"column":0},"action":"insert","lines":["",""],"id":3}],[{"start":{"row":158,"column":0},"end":{"row":159,"column":0},"action":"insert","lines":["",""],"id":4}],[{"start":{"row":159,"column":0},"end":{"row":160,"column":0},"action":"insert","lines":["",""],"id":5}],[{"start":{"row":160,"column":0},"end":{"row":161,"column":0},"action":"insert","lines":["",""],"id":6}],[{"start":{"row":161,"column":0},"end":{"row":162,"column":0},"action":"insert","lines":["",""],"id":7}],[{"start":{"row":162,"column":0},"end":{"row":163,"column":0},"action":"insert","lines":["",""],"id":8}],[{"start":{"row":163,"column":0},"end":{"row":164,"column":0},"action":"insert","lines":["",""],"id":9}],[{"start":{"row":164,"column":0},"end":{"row":165,"column":0},"action":"insert","lines":["",""],"id":10}],[{"start":{"row":165,"column":0},"end":{"row":166,"column":0},"action":"insert","lines":["",""],"id":11}],[{"start":{"row":166,"column":0},"end":{"row":167,"column":0},"action":"insert","lines":["",""],"id":12}],[{"start":{"row":0,"column":0},"end":{"row":167,"column":0},"action":"remove","lines":["width = verge.viewportW();","height = verge.viewportH();","","","buildTess = function(width,height){","    // var counter = 0;","    var svg;","    var path,path2,path3;","    var animate;","    var points = 50;","    var width = width,","      height = height;","    var vertices,","        vertices2,","        vertices3;","    var point = [1,1];","    //setting x and y speed by % of viewport seems to give better performance then hard coded pixel amounts","    var xVelocity = width * 0.002;","    var yVelocity = height * 0.0025;"," ","","    loadVertices(points);","","    function newVertices(points) {","      return d3.range(points).map(function(d) {","      return [Math.random() * width, Math.random() * height];","      });","    }","","    var voronoi = d3.geom.voronoi()","        .clipExtent([[0, 0], [width, height]]);","","    function zoomView() {","          var points = vertices.length;","          var fontSize = parseInt($(\"div.top h1\").css(\"font-size\").split(\"px\")[0]);","          if (points >= 20) {","            points = points-10;","            $(\"div.top h1\").css(\"font-size\",fontSize+10);","          }","          loadVertices(points);","          render();","","    };","","    var drag = d3.behavior.drag()","        .on(\"dragstart\", function() {","            //clear auto calling animate when dragging begins","            clearInterval(animate);","        })","        .on(\"drag\", function(){","          //touch events","          touchXY = [d3.event.x,d3.event.y];","          point = touchXY;","          render();","        })","        .on(\"dragend\", function() {","          animate = setInterval(function(){render();}, 5);","        })","","","    ","      svg = d3.select(\"#chart\").append(\"svg\")","        .attr(\"width\", width)","        .attr(\"height\", height)","     //remove the following listeners if you simply want animation and no interaction ","        .on(\"mousemove\", function() {","          //stop calling animate when mouse takes control","          clearInterval(animate);","          var mouseXY = d3.mouse(this);","          point = mouseXY;","          render();","          })","        .on(\"click\",function(){","          var mouseXY = [d3.event.x,d3.event.y];","          point = mouseXY;","          //reduce number of nodes on screen to give illusion of zooming in","          zoomView(point);","        })","        .on('mouseleave', function() {","          //restart animation after mouse lives viewport","          animate  = setInterval(function(){render();}, 5);","        })","        .call(drag);","  ","  ","      path = svg.append(\"g\").selectAll(\"path\");","      path2 = svg.append(\"g\").selectAll(\"path\");","      path3 = svg.append(\"g\").selectAll(\"path\");","","","  svg.append(\"rect\")","      .attr(\"width\", width)","      .attr(\"height\", height);","","  //kick off continuous animation... raising the interval will  trigger the browser to paint and actually reduce performance","  animate = setInterval(function(){render();}, 5);","","  function render () {","    var crntX = point[0];","    var crntY = point[1];","    var newX, newY;","    //if moving point is at the right or left edges switch x direction","    if (crntX >= width || crntX <= 0 ) {","      xVelocity *= -1;","    }","    //if moving point is at the top or bottom edges switch y direction","    if (crntY >= height || crntY <= 0 ) {","      yVelocity *= -1;","    }","    ","    newX = crntX + xVelocity;","    newY = crntY + yVelocity;","","    redraw([newX,newY]);","    point = [newX,newY];","","    ","  }","","  function  loadVertices(points){","    vertices = newVertices(points);","    vertices2 = newVertices(points);","    vertices3 = newVertices(points);","  };","","   function redraw(mouseXY) {","      vertices[0] = mouseXY;","      path = path.data(voronoi(vertices), polygon);","      path.exit().remove();","      path.enter().append(\"path\")","          .attr(\"d\", polygon);","      path.order();","","            vertices2[0] = mouseXY;","      path2 = path2.data(voronoi(vertices2), polygon);","      path2.exit().remove();","      path2.enter().append(\"path\")","          .attr(\"d\", polygon);","      path2.order();","","            vertices3[0] = mouseXY;","      path3 = path3.data(voronoi(vertices3), polygon);","      path3.exit().remove();","      path3.enter().append(\"path\")","          .attr(\"d\", polygon);","      path3.order();","    }","","  function polygon(d) {","    return \"M\" + d.join(\"L\") + \"Z\";","  }","","  function getRandom() {","    return Math.random() * (10 - 3) + 3;","  }","};","","buildTess(width,height)","","","","","","","","","",""],"id":15},{"start":{"row":0,"column":0},"end":{"row":96,"column":3},"action":"insert","lines":["/**","    A JavaScript implementation of the gif found here: http://gif.flrn.nl/post/106259683043","*/","window.requestAnimFrame = (function(){","  return window.requestAnimationFrame    ||","    window.webkitRequestAnimationFrame ||","    window.mozRequestAnimationFrame    ||","    function( callback ){","    window.setTimeout(callback, 1000 / 60);","  };","})();","","var rad = function(deg) {","  return (deg * (Math.PI / 180));","};","","var InterruptedRing = function(ctx, x, y, radius, interruptions, sizeOfInterruption, color, velocity) {","  this.x = x;                     // center-x","  this.y = y;                     // center-y","  this.r = radius;                // the radius of the ring","  this.i = interruptions;         // the amount of gaps in the ring","  this.d = sizeOfInterruption;    // the length of a gap in degrees!","  this.v = velocity;              // the speed and direction of the rotation ","  this.s = color;                 // fill style, might as well be a gradient or pattern","  this.c = ctx;                   // canvas context","  this.o = (Math.floor(Math.random() * 360) * (velocity < 0 ? -1 : 1)); // random start rotation","  this.l = Math.floor((360 - (interruptions * sizeOfInterruption)) / interruptions); // size of a leg in degrees","};","","/**"," * step() updates the o property of an InterruptedRing, which is the "," * offset angle for both start and end angle arguments in the arc call."," * This value is used to rotate the ring, instead of rotating the whole ctx."," */","InterruptedRing.prototype.step = function() {","  this.o = ((this.o + this.v) % 360);","};","","InterruptedRing.prototype.render = function() {","  var p = 0;","  while(p < 360) {","    this.c.beginPath();","      this.c.arc(this.x, this.y, this.r, rad(p + this.o), rad(p + this.o + this.l), false);","      this.c.lineWidth = 5;","      this.c.strokeStyle = this.s;","      this.c.stroke();","    this.c.closePath();","","    p += (this.d + this.l); ","  }","};","","$(function() {","  var canvas = document.getElementById('animation');","  var context = canvas.getContext('2d');","","  var cx = 200;","  var cy = 200;","","  // all the speeds are estimates of the original, good enough for me! ","  var rings = [","    // group 1","    new InterruptedRing(context, cx, cy, 8,   1, 60, '#d53933', -2), // radius:12 + linewidth:5 + space:5","    new InterruptedRing(context, cx, cy, 17,  4, 30, '#1d909a', 1),","    new InterruptedRing(context, cx, cy, 26,  2, 15, '#e59c10', -1.5),","","    // group 2","    new InterruptedRing(context, cx, cy, 35,  2, 10, '#d53933', 1.5),","    new InterruptedRing(context, cx, cy, 44,  4, 10, '#1d909a', -0.5),","    new InterruptedRing(context, cx, cy, 53,  2, 8,  '#e59c10', -1),","","    // group 3","    new InterruptedRing(context, cx, cy, 62,  2, 6,  '#d53933', -1.6),","    new InterruptedRing(context, cx, cy, 71,  4, 6,  '#1d909a', -0.60),","    new InterruptedRing(context, cx, cy, 80,  2, 6,  '#e59c10', 1.1),","","    // group 4","    new InterruptedRing(context, cx, cy, 89,  2, 6,  '#d53933', 1.05),","    new InterruptedRing(context, cx, cy, 98,  5, 6,  '#1d909a', -0.50),","    new InterruptedRing(context, cx, cy, 107, 3, 5,  '#e59c10', 0.9),","","    // group 5","    new InterruptedRing(context, cx, cy, 116, 2, 5,  '#d53933', -0.9),","    new InterruptedRing(context, cx, cy, 125, 4, 5,  '#1d909a', 0.60),","    new InterruptedRing(context, cx, cy, 134, 6, 5,  '#e59c10', -0.40),","  ];","","","  // animate those interrupted rings!!","  var anim = function anim() {","    requestAnimFrame(anim);","","    context.clearRect(0, 0, 400, 400);","    for(var i in rings) rings[i].step(); // step all before render all ;)","    for(var i in rings) rings[i].render();","  }; anim();","});"]}],[{"start":{"row":96,"column":3},"end":{"row":97,"column":0},"action":"insert","lines":["",""],"id":16}],[{"start":{"row":97,"column":0},"end":{"row":98,"column":0},"action":"insert","lines":["",""],"id":17}],[{"start":{"row":98,"column":0},"end":{"row":99,"column":0},"action":"insert","lines":["",""],"id":18}],[{"start":{"row":99,"column":0},"end":{"row":100,"column":0},"action":"insert","lines":["",""],"id":19}],[{"start":{"row":100,"column":0},"end":{"row":101,"column":0},"action":"insert","lines":["",""],"id":20}],[{"start":{"row":101,"column":0},"end":{"row":102,"column":0},"action":"insert","lines":["",""],"id":21}],[{"start":{"row":102,"column":0},"end":{"row":103,"column":0},"action":"insert","lines":["",""],"id":22}],[{"start":{"row":103,"column":0},"end":{"row":104,"column":0},"action":"insert","lines":["",""],"id":23}],[{"start":{"row":104,"column":0},"end":{"row":105,"column":0},"action":"insert","lines":["",""],"id":24}],[{"start":{"row":105,"column":0},"end":{"row":106,"column":0},"action":"insert","lines":["",""],"id":25}],[{"start":{"row":106,"column":0},"end":{"row":107,"column":0},"action":"insert","lines":["",""],"id":26}],[{"start":{"row":107,"column":0},"end":{"row":108,"column":0},"action":"insert","lines":["",""],"id":27}],[{"start":{"row":108,"column":0},"end":{"row":109,"column":0},"action":"insert","lines":["",""],"id":28}],[{"start":{"row":0,"column":0},"end":{"row":109,"column":0},"action":"remove","lines":["/**","    A JavaScript implementation of the gif found here: http://gif.flrn.nl/post/106259683043","*/","window.requestAnimFrame = (function(){","  return window.requestAnimationFrame    ||","    window.webkitRequestAnimationFrame ||","    window.mozRequestAnimationFrame    ||","    function( callback ){","    window.setTimeout(callback, 1000 / 60);","  };","})();","","var rad = function(deg) {","  return (deg * (Math.PI / 180));","};","","var InterruptedRing = function(ctx, x, y, radius, interruptions, sizeOfInterruption, color, velocity) {","  this.x = x;                     // center-x","  this.y = y;                     // center-y","  this.r = radius;                // the radius of the ring","  this.i = interruptions;         // the amount of gaps in the ring","  this.d = sizeOfInterruption;    // the length of a gap in degrees!","  this.v = velocity;              // the speed and direction of the rotation ","  this.s = color;                 // fill style, might as well be a gradient or pattern","  this.c = ctx;                   // canvas context","  this.o = (Math.floor(Math.random() * 360) * (velocity < 0 ? -1 : 1)); // random start rotation","  this.l = Math.floor((360 - (interruptions * sizeOfInterruption)) / interruptions); // size of a leg in degrees","};","","/**"," * step() updates the o property of an InterruptedRing, which is the "," * offset angle for both start and end angle arguments in the arc call."," * This value is used to rotate the ring, instead of rotating the whole ctx."," */","InterruptedRing.prototype.step = function() {","  this.o = ((this.o + this.v) % 360);","};","","InterruptedRing.prototype.render = function() {","  var p = 0;","  while(p < 360) {","    this.c.beginPath();","      this.c.arc(this.x, this.y, this.r, rad(p + this.o), rad(p + this.o + this.l), false);","      this.c.lineWidth = 5;","      this.c.strokeStyle = this.s;","      this.c.stroke();","    this.c.closePath();","","    p += (this.d + this.l); ","  }","};","","$(function() {","  var canvas = document.getElementById('animation');","  var context = canvas.getContext('2d');","","  var cx = 200;","  var cy = 200;","","  // all the speeds are estimates of the original, good enough for me! ","  var rings = [","    // group 1","    new InterruptedRing(context, cx, cy, 8,   1, 60, '#d53933', -2), // radius:12 + linewidth:5 + space:5","    new InterruptedRing(context, cx, cy, 17,  4, 30, '#1d909a', 1),","    new InterruptedRing(context, cx, cy, 26,  2, 15, '#e59c10', -1.5),","","    // group 2","    new InterruptedRing(context, cx, cy, 35,  2, 10, '#d53933', 1.5),","    new InterruptedRing(context, cx, cy, 44,  4, 10, '#1d909a', -0.5),","    new InterruptedRing(context, cx, cy, 53,  2, 8,  '#e59c10', -1),","","    // group 3","    new InterruptedRing(context, cx, cy, 62,  2, 6,  '#d53933', -1.6),","    new InterruptedRing(context, cx, cy, 71,  4, 6,  '#1d909a', -0.60),","    new InterruptedRing(context, cx, cy, 80,  2, 6,  '#e59c10', 1.1),","","    // group 4","    new InterruptedRing(context, cx, cy, 89,  2, 6,  '#d53933', 1.05),","    new InterruptedRing(context, cx, cy, 98,  5, 6,  '#1d909a', -0.50),","    new InterruptedRing(context, cx, cy, 107, 3, 5,  '#e59c10', 0.9),","","    // group 5","    new InterruptedRing(context, cx, cy, 116, 2, 5,  '#d53933', -0.9),","    new InterruptedRing(context, cx, cy, 125, 4, 5,  '#1d909a', 0.60),","    new InterruptedRing(context, cx, cy, 134, 6, 5,  '#e59c10', -0.40),","  ];","","","  // animate those interrupted rings!!","  var anim = function anim() {","    requestAnimFrame(anim);","","    context.clearRect(0, 0, 400, 400);","    for(var i in rings) rings[i].step(); // step all before render all ;)","    for(var i in rings) rings[i].render();","  }; anim();","});","","","","","","","","","","","","",""],"id":30},{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["\\"]}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":["\\"],"id":31}],[{"start":{"row":0,"column":0},"end":{"row":157,"column":23},"action":"insert","lines":["width = verge.viewportW();","height = verge.viewportH();","","","buildTess = function(width,height){","    // var counter = 0;","    var svg;","    var path,path2,path3;","    var animate;","    var points = 50;","    var width = width,","      height = height;","    var vertices,","        vertices2,","        vertices3;","    var point = [1,1];","    //setting x and y speed by % of viewport seems to give better performance then hard coded pixel amounts","    var xVelocity = width * 0.002;","    var yVelocity = height * 0.0025;"," ","","    loadVertices(points);","","    function newVertices(points) {","      return d3.range(points).map(function(d) {","      return [Math.random() * width, Math.random() * height];","      });","    }","","    var voronoi = d3.geom.voronoi()","        .clipExtent([[0, 0], [width, height]]);","","    function zoomView() {","          var points = vertices.length;","          var fontSize = parseInt($(\"div.top h1\").css(\"font-size\").split(\"px\")[0]);","          if (points >= 20) {","            points = points-10;","            $(\"div.top h1\").css(\"font-size\",fontSize+10);","          }","          loadVertices(points);","          render();","","    };","","    var drag = d3.behavior.drag()","        .on(\"dragstart\", function() {","            //clear auto calling animate when dragging begins","            clearInterval(animate);","        })","        .on(\"drag\", function(){","          //touch events","          touchXY = [d3.event.x,d3.event.y];","          point = touchXY;","          render();","        })","        .on(\"dragend\", function() {","          animate = setInterval(function(){render();}, 5);","        })","","","    ","      svg = d3.select(\"#chart\").append(\"svg\")","        .attr(\"width\", width)","        .attr(\"height\", height)","     //remove the following listeners if you simply want animation and no interaction ","        .on(\"mousemove\", function() {","          //stop calling animate when mouse takes control","          clearInterval(animate);","          var mouseXY = d3.mouse(this);","          point = mouseXY;","          render();","          })","        .on(\"click\",function(){","          var mouseXY = [d3.event.x,d3.event.y];","          point = mouseXY;","          //reduce number of nodes on screen to give illusion of zooming in","          zoomView(point);","        })","        .on('mouseleave', function() {","          //restart animation after mouse lives viewport","          animate  = setInterval(function(){render();}, 5);","        })","        .call(drag);","  ","  ","      path = svg.append(\"g\").selectAll(\"path\");","      path2 = svg.append(\"g\").selectAll(\"path\");","      path3 = svg.append(\"g\").selectAll(\"path\");","","","  svg.append(\"rect\")","      .attr(\"width\", width)","      .attr(\"height\", height);","","  //kick off continuous animation... raising the interval will  trigger the browser to paint and actually reduce performance","  animate = setInterval(function(){render();}, 5);","","  function render () {","    var crntX = point[0];","    var crntY = point[1];","    var newX, newY;","    //if moving point is at the right or left edges switch x direction","    if (crntX >= width || crntX <= 0 ) {","      xVelocity *= -1;","    }","    //if moving point is at the top or bottom edges switch y direction","    if (crntY >= height || crntY <= 0 ) {","      yVelocity *= -1;","    }","    ","    newX = crntX + xVelocity;","    newY = crntY + yVelocity;","","    redraw([newX,newY]);","    point = [newX,newY];","","    ","  }","","  function  loadVertices(points){","    vertices = newVertices(points);","    vertices2 = newVertices(points);","    vertices3 = newVertices(points);","  };","","   function redraw(mouseXY) {","      vertices[0] = mouseXY;","      path = path.data(voronoi(vertices), polygon);","      path.exit().remove();","      path.enter().append(\"path\")","          .attr(\"d\", polygon);","      path.order();","","            vertices2[0] = mouseXY;","      path2 = path2.data(voronoi(vertices2), polygon);","      path2.exit().remove();","      path2.enter().append(\"path\")","          .attr(\"d\", polygon);","      path2.order();","","            vertices3[0] = mouseXY;","      path3 = path3.data(voronoi(vertices3), polygon);","      path3.exit().remove();","      path3.enter().append(\"path\")","          .attr(\"d\", polygon);","      path3.order();","    }","","  function polygon(d) {","    return \"M\" + d.join(\"L\") + \"Z\";","  }","","  function getRandom() {","    return Math.random() * (10 - 3) + 3;","  }","};","","buildTess(width,height)"],"id":32}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":3},"action":"insert","lines":["// "],"id":33},{"start":{"row":1,"column":0},"end":{"row":1,"column":3},"action":"insert","lines":["// "]}],[{"start":{"row":157,"column":0},"end":{"row":157,"column":3},"action":"insert","lines":["// "],"id":34}],[{"start":{"row":0,"column":0},"end":{"row":157,"column":26},"action":"remove","lines":["// width = verge.viewportW();","// height = verge.viewportH();","","","buildTess = function(width,height){","    // var counter = 0;","    var svg;","    var path,path2,path3;","    var animate;","    var points = 50;","    var width = width,","      height = height;","    var vertices,","        vertices2,","        vertices3;","    var point = [1,1];","    //setting x and y speed by % of viewport seems to give better performance then hard coded pixel amounts","    var xVelocity = width * 0.002;","    var yVelocity = height * 0.0025;"," ","","    loadVertices(points);","","    function newVertices(points) {","      return d3.range(points).map(function(d) {","      return [Math.random() * width, Math.random() * height];","      });","    }","","    var voronoi = d3.geom.voronoi()","        .clipExtent([[0, 0], [width, height]]);","","    function zoomView() {","          var points = vertices.length;","          var fontSize = parseInt($(\"div.top h1\").css(\"font-size\").split(\"px\")[0]);","          if (points >= 20) {","            points = points-10;","            $(\"div.top h1\").css(\"font-size\",fontSize+10);","          }","          loadVertices(points);","          render();","","    };","","    var drag = d3.behavior.drag()","        .on(\"dragstart\", function() {","            //clear auto calling animate when dragging begins","            clearInterval(animate);","        })","        .on(\"drag\", function(){","          //touch events","          touchXY = [d3.event.x,d3.event.y];","          point = touchXY;","          render();","        })","        .on(\"dragend\", function() {","          animate = setInterval(function(){render();}, 5);","        })","","","    ","      svg = d3.select(\"#chart\").append(\"svg\")","        .attr(\"width\", width)","        .attr(\"height\", height)","     //remove the following listeners if you simply want animation and no interaction ","        .on(\"mousemove\", function() {","          //stop calling animate when mouse takes control","          clearInterval(animate);","          var mouseXY = d3.mouse(this);","          point = mouseXY;","          render();","          })","        .on(\"click\",function(){","          var mouseXY = [d3.event.x,d3.event.y];","          point = mouseXY;","          //reduce number of nodes on screen to give illusion of zooming in","          zoomView(point);","        })","        .on('mouseleave', function() {","          //restart animation after mouse lives viewport","          animate  = setInterval(function(){render();}, 5);","        })","        .call(drag);","  ","  ","      path = svg.append(\"g\").selectAll(\"path\");","      path2 = svg.append(\"g\").selectAll(\"path\");","      path3 = svg.append(\"g\").selectAll(\"path\");","","","  svg.append(\"rect\")","      .attr(\"width\", width)","      .attr(\"height\", height);","","  //kick off continuous animation... raising the interval will  trigger the browser to paint and actually reduce performance","  animate = setInterval(function(){render();}, 5);","","  function render () {","    var crntX = point[0];","    var crntY = point[1];","    var newX, newY;","    //if moving point is at the right or left edges switch x direction","    if (crntX >= width || crntX <= 0 ) {","      xVelocity *= -1;","    }","    //if moving point is at the top or bottom edges switch y direction","    if (crntY >= height || crntY <= 0 ) {","      yVelocity *= -1;","    }","    ","    newX = crntX + xVelocity;","    newY = crntY + yVelocity;","","    redraw([newX,newY]);","    point = [newX,newY];","","    ","  }","","  function  loadVertices(points){","    vertices = newVertices(points);","    vertices2 = newVertices(points);","    vertices3 = newVertices(points);","  };","","   function redraw(mouseXY) {","      vertices[0] = mouseXY;","      path = path.data(voronoi(vertices), polygon);","      path.exit().remove();","      path.enter().append(\"path\")","          .attr(\"d\", polygon);","      path.order();","","            vertices2[0] = mouseXY;","      path2 = path2.data(voronoi(vertices2), polygon);","      path2.exit().remove();","      path2.enter().append(\"path\")","          .attr(\"d\", polygon);","      path2.order();","","            vertices3[0] = mouseXY;","      path3 = path3.data(voronoi(vertices3), polygon);","      path3.exit().remove();","      path3.enter().append(\"path\")","          .attr(\"d\", polygon);","      path3.order();","    }","","  function polygon(d) {","    return \"M\" + d.join(\"L\") + \"Z\";","  }","","  function getRandom() {","    return Math.random() * (10 - 3) + 3;","  }","};","","// buildTess(width,height)"],"id":35},{"start":{"row":0,"column":0},"end":{"row":159,"column":24},"action":"insert","lines":["width = verge.viewportW();","height = verge.viewportH();","","buildTess = function(width, height) {","  // var counter = 0;","  var svg;","  var path, path2, path3;","  var animate;","  var points = 50;","  var width = width,","    height = height;","  var vertices,","    vertices2,","    vertices3;","  var point = [1, 1];","  //setting x and y speed by % of viewport seems to give better performance then hard coded pixel amounts","  var xVelocity = width * 0.002;","  var yVelocity = height * 0.0025;","","  loadVertices(points);","","  function newVertices(points) {","    return d3.range(points).map(function(d) {","      return [Math.random() * width, Math.random() * height];","    });","  }","","  var voronoi = d3.geom.voronoi()","    .clipExtent([","      [0, 0],","      [width, height]","    ]);","","  function zoomView() {","    var points = vertices.length;","    var fontSize = parseInt($(\"div.top h1\").css(\"font-size\").split(\"px\")[0]);","    if (points >= 20) {","      points = points - 10;","      $(\"div.top h1\").css(\"font-size\", fontSize + 10);","    }","    loadVertices(points);","    render();","","  };","","  var drag = d3.behavior.drag()","    .on(\"dragstart\", function() {","      //clear auto calling animate when dragging begins","      clearInterval(animate);","    })","    .on(\"drag\", function() {","      //touch events","      touchXY = [d3.event.x, d3.event.y];","      point = touchXY;","      render();","    })","    .on(\"dragend\", function() {","      animate = setInterval(function() {","        render();","      }, 5);","    })","","  svg = d3.select(\"#chart\").append(\"svg\")","    .attr(\"width\", width)","    .attr(\"height\", height)","    //remove the following listeners if you simply want animation and no interaction ","    .on(\"mousemove\", function() {","      //stop calling animate when mouse takes control","      clearInterval(animate);","      var mouseXY = d3.mouse(this);","      point = mouseXY;","      render();","    })","    .on(\"click\", function() {","      var mouseXY = [d3.event.x, d3.event.y];","      point = mouseXY;","      //reduce number of nodes on screen to give illusion of zooming in","      zoomView(point);","    })","    .on('mouseleave', function() {","      //restart animation after mouse lives viewport","      animate = setInterval(function() {","        render();","      }, 5);","    })","    .call(drag);","","  path = svg.append(\"g\").selectAll(\"path\");","  path2 = svg.append(\"g\").selectAll(\"path\");","  path3 = svg.append(\"g\").selectAll(\"path\");","","  svg.append(\"rect\")","    .attr(\"width\", width)","    .attr(\"height\", height);","","  //kick off continuous animation... raising the interval will  trigger the browser to paint and actually reduce performance","  animate = setInterval(function() {","    render();","  }, 5);","","  function render() {","    var crntX = point[0];","    var crntY = point[1];","    var newX, newY;","    //if moving point is at the right or left edges switch x direction","    if (crntX >= width || crntX <= 0) {","      xVelocity *= -1;","    }","    //if moving point is at the top or bottom edges switch y direction","    if (crntY >= height || crntY <= 0) {","      yVelocity *= -1;","    }","","    newX = crntX + xVelocity;","    newY = crntY + yVelocity;","","    redraw([newX, newY]);","    point = [newX, newY];","","  }","","  function loadVertices(points) {","    vertices = newVertices(points);","    vertices2 = newVertices(points);","    vertices3 = newVertices(points);","  };","","  function redraw(mouseXY) {","    vertices[0] = mouseXY;","    path = path.data(voronoi(vertices), polygon);","    path.exit().remove();","    path.enter().append(\"path\")","      .attr(\"d\", polygon);","    path.order();","","    vertices2[0] = mouseXY;","    path2 = path2.data(voronoi(vertices2), polygon);","    path2.exit().remove();","    path2.enter().append(\"path\")","      .attr(\"d\", polygon);","    path2.order();","","    vertices3[0] = mouseXY;","    path3 = path3.data(voronoi(vertices3), polygon);","    path3.exit().remove();","    path3.enter().append(\"path\")","      .attr(\"d\", polygon);","    path3.order();","  }","","  function polygon(d) {","    return \"M\" + d.join(\"L\") + \"Z\";","  }","","  function getRandom() {","    return Math.random() * (10 - 3) + 3;","  }","};","","buildTess(width, height)"]}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":3},"action":"insert","lines":["// "],"id":37},{"start":{"row":1,"column":0},"end":{"row":1,"column":3},"action":"insert","lines":["// "]},{"start":{"row":3,"column":0},"end":{"row":3,"column":3},"action":"insert","lines":["// "]},{"start":{"row":4,"column":0},"end":{"row":4,"column":3},"action":"insert","lines":["// "]},{"start":{"row":5,"column":0},"end":{"row":5,"column":3},"action":"insert","lines":["// "]},{"start":{"row":6,"column":0},"end":{"row":6,"column":3},"action":"insert","lines":["// "]},{"start":{"row":7,"column":0},"end":{"row":7,"column":3},"action":"insert","lines":["// "]},{"start":{"row":8,"column":0},"end":{"row":8,"column":3},"action":"insert","lines":["// "]},{"start":{"row":9,"column":0},"end":{"row":9,"column":3},"action":"insert","lines":["// "]},{"start":{"row":10,"column":0},"end":{"row":10,"column":3},"action":"insert","lines":["// "]},{"start":{"row":11,"column":0},"end":{"row":11,"column":3},"action":"insert","lines":["// "]},{"start":{"row":12,"column":0},"end":{"row":12,"column":3},"action":"insert","lines":["// "]},{"start":{"row":13,"column":0},"end":{"row":13,"column":3},"action":"insert","lines":["// "]},{"start":{"row":14,"column":0},"end":{"row":14,"column":3},"action":"insert","lines":["// "]},{"start":{"row":15,"column":0},"end":{"row":15,"column":3},"action":"insert","lines":["// "]},{"start":{"row":16,"column":0},"end":{"row":16,"column":3},"action":"insert","lines":["// "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":3},"action":"insert","lines":["// "]},{"start":{"row":19,"column":0},"end":{"row":19,"column":3},"action":"insert","lines":["// "]},{"start":{"row":21,"column":0},"end":{"row":21,"column":3},"action":"insert","lines":["// "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":3},"action":"insert","lines":["// "]},{"start":{"row":23,"column":0},"end":{"row":23,"column":3},"action":"insert","lines":["// "]},{"start":{"row":24,"column":0},"end":{"row":24,"column":3},"action":"insert","lines":["// "]},{"start":{"row":25,"column":0},"end":{"row":25,"column":3},"action":"insert","lines":["// "]},{"start":{"row":27,"column":0},"end":{"row":27,"column":3},"action":"insert","lines":["// "]},{"start":{"row":28,"column":0},"end":{"row":28,"column":3},"action":"insert","lines":["// "]},{"start":{"row":29,"column":0},"end":{"row":29,"column":3},"action":"insert","lines":["// "]},{"start":{"row":30,"column":0},"end":{"row":30,"column":3},"action":"insert","lines":["// "]},{"start":{"row":31,"column":0},"end":{"row":31,"column":3},"action":"insert","lines":["// "]},{"start":{"row":33,"column":0},"end":{"row":33,"column":3},"action":"insert","lines":["// "]},{"start":{"row":34,"column":0},"end":{"row":34,"column":3},"action":"insert","lines":["// "]},{"start":{"row":35,"column":0},"end":{"row":35,"column":3},"action":"insert","lines":["// "]},{"start":{"row":36,"column":0},"end":{"row":36,"column":3},"action":"insert","lines":["// "]},{"start":{"row":37,"column":0},"end":{"row":37,"column":3},"action":"insert","lines":["// "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":3},"action":"insert","lines":["// "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":3},"action":"insert","lines":["// "]},{"start":{"row":40,"column":0},"end":{"row":40,"column":3},"action":"insert","lines":["// "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":3},"action":"insert","lines":["// "]},{"start":{"row":43,"column":0},"end":{"row":43,"column":3},"action":"insert","lines":["// "]},{"start":{"row":45,"column":0},"end":{"row":45,"column":3},"action":"insert","lines":["// "]},{"start":{"row":46,"column":0},"end":{"row":46,"column":3},"action":"insert","lines":["// "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":3},"action":"insert","lines":["// "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":3},"action":"insert","lines":["// "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":3},"action":"insert","lines":["// "]},{"start":{"row":50,"column":0},"end":{"row":50,"column":3},"action":"insert","lines":["// "]},{"start":{"row":51,"column":0},"end":{"row":51,"column":3},"action":"insert","lines":["// "]},{"start":{"row":52,"column":0},"end":{"row":52,"column":3},"action":"insert","lines":["// "]},{"start":{"row":53,"column":0},"end":{"row":53,"column":3},"action":"insert","lines":["// "]},{"start":{"row":54,"column":0},"end":{"row":54,"column":3},"action":"insert","lines":["// "]},{"start":{"row":55,"column":0},"end":{"row":55,"column":3},"action":"insert","lines":["// "]},{"start":{"row":56,"column":0},"end":{"row":56,"column":3},"action":"insert","lines":["// "]},{"start":{"row":57,"column":0},"end":{"row":57,"column":3},"action":"insert","lines":["// "]},{"start":{"row":58,"column":0},"end":{"row":58,"column":3},"action":"insert","lines":["// "]},{"start":{"row":59,"column":0},"end":{"row":59,"column":3},"action":"insert","lines":["// "]},{"start":{"row":60,"column":0},"end":{"row":60,"column":3},"action":"insert","lines":["// "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":3},"action":"insert","lines":["// "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":3},"action":"insert","lines":["// "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":3},"action":"insert","lines":["// "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":3},"action":"insert","lines":["// "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":3},"action":"insert","lines":["// "]},{"start":{"row":67,"column":0},"end":{"row":67,"column":3},"action":"insert","lines":["// "]},{"start":{"row":68,"column":0},"end":{"row":68,"column":3},"action":"insert","lines":["// "]},{"start":{"row":69,"column":0},"end":{"row":69,"column":3},"action":"insert","lines":["// "]},{"start":{"row":70,"column":0},"end":{"row":70,"column":3},"action":"insert","lines":["// "]},{"start":{"row":71,"column":0},"end":{"row":71,"column":3},"action":"insert","lines":["// "]},{"start":{"row":72,"column":0},"end":{"row":72,"column":3},"action":"insert","lines":["// "]},{"start":{"row":73,"column":0},"end":{"row":73,"column":3},"action":"insert","lines":["// "]},{"start":{"row":74,"column":0},"end":{"row":74,"column":3},"action":"insert","lines":["// "]},{"start":{"row":75,"column":0},"end":{"row":75,"column":3},"action":"insert","lines":["// "]},{"start":{"row":76,"column":0},"end":{"row":76,"column":3},"action":"insert","lines":["// "]},{"start":{"row":77,"column":0},"end":{"row":77,"column":3},"action":"insert","lines":["// "]},{"start":{"row":78,"column":0},"end":{"row":78,"column":3},"action":"insert","lines":["// "]},{"start":{"row":79,"column":0},"end":{"row":79,"column":3},"action":"insert","lines":["// "]},{"start":{"row":80,"column":0},"end":{"row":80,"column":3},"action":"insert","lines":["// "]},{"start":{"row":81,"column":0},"end":{"row":81,"column":3},"action":"insert","lines":["// "]},{"start":{"row":82,"column":0},"end":{"row":82,"column":3},"action":"insert","lines":["// "]},{"start":{"row":83,"column":0},"end":{"row":83,"column":3},"action":"insert","lines":["// "]},{"start":{"row":84,"column":0},"end":{"row":84,"column":3},"action":"insert","lines":["// "]},{"start":{"row":85,"column":0},"end":{"row":85,"column":3},"action":"insert","lines":["// "]},{"start":{"row":87,"column":0},"end":{"row":87,"column":3},"action":"insert","lines":["// "]},{"start":{"row":88,"column":0},"end":{"row":88,"column":3},"action":"insert","lines":["// "]},{"start":{"row":89,"column":0},"end":{"row":89,"column":3},"action":"insert","lines":["// "]},{"start":{"row":91,"column":0},"end":{"row":91,"column":3},"action":"insert","lines":["// "]},{"start":{"row":92,"column":0},"end":{"row":92,"column":3},"action":"insert","lines":["// "]},{"start":{"row":93,"column":0},"end":{"row":93,"column":3},"action":"insert","lines":["// "]},{"start":{"row":95,"column":0},"end":{"row":95,"column":3},"action":"insert","lines":["// "]},{"start":{"row":96,"column":0},"end":{"row":96,"column":3},"action":"insert","lines":["// "]},{"start":{"row":97,"column":0},"end":{"row":97,"column":3},"action":"insert","lines":["// "]},{"start":{"row":98,"column":0},"end":{"row":98,"column":3},"action":"insert","lines":["// "]},{"start":{"row":100,"column":0},"end":{"row":100,"column":3},"action":"insert","lines":["// "]},{"start":{"row":101,"column":0},"end":{"row":101,"column":3},"action":"insert","lines":["// "]},{"start":{"row":102,"column":0},"end":{"row":102,"column":3},"action":"insert","lines":["// "]},{"start":{"row":103,"column":0},"end":{"row":103,"column":3},"action":"insert","lines":["// "]},{"start":{"row":104,"column":0},"end":{"row":104,"column":3},"action":"insert","lines":["// "]},{"start":{"row":105,"column":0},"end":{"row":105,"column":3},"action":"insert","lines":["// "]},{"start":{"row":106,"column":0},"end":{"row":106,"column":3},"action":"insert","lines":["// "]},{"start":{"row":107,"column":0},"end":{"row":107,"column":3},"action":"insert","lines":["// "]},{"start":{"row":108,"column":0},"end":{"row":108,"column":3},"action":"insert","lines":["// "]},{"start":{"row":109,"column":0},"end":{"row":109,"column":3},"action":"insert","lines":["// "]},{"start":{"row":110,"column":0},"end":{"row":110,"column":3},"action":"insert","lines":["// "]},{"start":{"row":111,"column":0},"end":{"row":111,"column":3},"action":"insert","lines":["// "]},{"start":{"row":113,"column":0},"end":{"row":113,"column":3},"action":"insert","lines":["// "]},{"start":{"row":114,"column":0},"end":{"row":114,"column":3},"action":"insert","lines":["// "]},{"start":{"row":116,"column":0},"end":{"row":116,"column":3},"action":"insert","lines":["// "]},{"start":{"row":117,"column":0},"end":{"row":117,"column":3},"action":"insert","lines":["// "]},{"start":{"row":119,"column":0},"end":{"row":119,"column":3},"action":"insert","lines":["// "]},{"start":{"row":121,"column":0},"end":{"row":121,"column":3},"action":"insert","lines":["// "]},{"start":{"row":122,"column":0},"end":{"row":122,"column":3},"action":"insert","lines":["// "]},{"start":{"row":123,"column":0},"end":{"row":123,"column":3},"action":"insert","lines":["// "]},{"start":{"row":124,"column":0},"end":{"row":124,"column":3},"action":"insert","lines":["// "]},{"start":{"row":125,"column":0},"end":{"row":125,"column":3},"action":"insert","lines":["// "]},{"start":{"row":127,"column":0},"end":{"row":127,"column":3},"action":"insert","lines":["// "]},{"start":{"row":128,"column":0},"end":{"row":128,"column":3},"action":"insert","lines":["// "]},{"start":{"row":129,"column":0},"end":{"row":129,"column":3},"action":"insert","lines":["// "]},{"start":{"row":130,"column":0},"end":{"row":130,"column":3},"action":"insert","lines":["// "]},{"start":{"row":131,"column":0},"end":{"row":131,"column":3},"action":"insert","lines":["// "]},{"start":{"row":132,"column":0},"end":{"row":132,"column":3},"action":"insert","lines":["// "]},{"start":{"row":133,"column":0},"end":{"row":133,"column":3},"action":"insert","lines":["// "]},{"start":{"row":135,"column":0},"end":{"row":135,"column":3},"action":"insert","lines":["// "]},{"start":{"row":136,"column":0},"end":{"row":136,"column":3},"action":"insert","lines":["// "]},{"start":{"row":137,"column":0},"end":{"row":137,"column":3},"action":"insert","lines":["// "]},{"start":{"row":138,"column":0},"end":{"row":138,"column":3},"action":"insert","lines":["// "]},{"start":{"row":139,"column":0},"end":{"row":139,"column":3},"action":"insert","lines":["// "]},{"start":{"row":140,"column":0},"end":{"row":140,"column":3},"action":"insert","lines":["// "]},{"start":{"row":142,"column":0},"end":{"row":142,"column":3},"action":"insert","lines":["// "]},{"start":{"row":143,"column":0},"end":{"row":143,"column":3},"action":"insert","lines":["// "]},{"start":{"row":144,"column":0},"end":{"row":144,"column":3},"action":"insert","lines":["// "]},{"start":{"row":145,"column":0},"end":{"row":145,"column":3},"action":"insert","lines":["// "]},{"start":{"row":146,"column":0},"end":{"row":146,"column":3},"action":"insert","lines":["// "]},{"start":{"row":147,"column":0},"end":{"row":147,"column":3},"action":"insert","lines":["// "]},{"start":{"row":148,"column":0},"end":{"row":148,"column":3},"action":"insert","lines":["// "]},{"start":{"row":150,"column":0},"end":{"row":150,"column":3},"action":"insert","lines":["// "]},{"start":{"row":151,"column":0},"end":{"row":151,"column":3},"action":"insert","lines":["// "]},{"start":{"row":152,"column":0},"end":{"row":152,"column":3},"action":"insert","lines":["// "]},{"start":{"row":154,"column":0},"end":{"row":154,"column":3},"action":"insert","lines":["// "]},{"start":{"row":155,"column":0},"end":{"row":155,"column":3},"action":"insert","lines":["// "]},{"start":{"row":156,"column":0},"end":{"row":156,"column":3},"action":"insert","lines":["// "]},{"start":{"row":157,"column":0},"end":{"row":157,"column":3},"action":"insert","lines":["// "]},{"start":{"row":159,"column":0},"end":{"row":159,"column":3},"action":"insert","lines":["// "]}],[{"start":{"row":159,"column":27},"end":{"row":160,"column":0},"action":"insert","lines":["",""],"id":38}],[{"start":{"row":160,"column":0},"end":{"row":161,"column":0},"action":"insert","lines":["",""],"id":39}],[{"start":{"row":161,"column":0},"end":{"row":162,"column":0},"action":"insert","lines":["",""],"id":40}],[{"start":{"row":162,"column":0},"end":{"row":163,"column":0},"action":"insert","lines":["",""],"id":41}],[{"start":{"row":163,"column":0},"end":{"row":164,"column":0},"action":"insert","lines":["",""],"id":42}],[{"start":{"row":164,"column":0},"end":{"row":165,"column":0},"action":"insert","lines":["",""],"id":43}],[{"start":{"row":165,"column":0},"end":{"row":166,"column":0},"action":"insert","lines":["",""],"id":44}],[{"start":{"row":166,"column":0},"end":{"row":167,"column":0},"action":"insert","lines":["",""],"id":45}],[{"start":{"row":167,"column":0},"end":{"row":168,"column":0},"action":"insert","lines":["",""],"id":46}],[{"start":{"row":168,"column":0},"end":{"row":169,"column":0},"action":"insert","lines":["",""],"id":47}],[{"start":{"row":169,"column":0},"end":{"row":170,"column":0},"action":"insert","lines":["",""],"id":48}],[{"start":{"row":170,"column":0},"end":{"row":171,"column":0},"action":"insert","lines":["",""],"id":49}],[{"start":{"row":171,"column":0},"end":{"row":172,"column":0},"action":"insert","lines":["",""],"id":50}],[{"start":{"row":167,"column":0},"end":{"row":213,"column":3},"action":"insert","lines":["/**"," * Particleground"," *"," * @author Jonathan Nicol - @mrjnicol"," * @version 1.0.1"," * @description Creates a canvas based particle system background"," *"," * Inspired by:"," * http://requestlab.fr/"," * http://disruptivebydesign.com/"," * "," * @license The MIT License (MIT)"," * "," * Copyright (c) 2014 Jonathan Nicol - @mrjnicol"," * "," * Permission is hereby granted, free of charge, to any person obtaining a copy"," * of this software and associated documentation files (the \"Software\"), to deal"," * in the Software without restriction, including without limitation the rights"," * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell"," * copies of the Software, and to permit persons to whom the Software is"," * furnished to do so, subject to the following conditions:"," * "," * The above copyright notice and this permission notice shall be included in"," * all copies or substantial portions of the Software."," * "," * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR"," * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,"," * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE"," * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER"," * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,"," * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN"," * THE SOFTWARE."," */","!function(a){function b(b,d){function e(){if(w){$canvas=a('<canvas class=\"pg-canvas\"></canvas>'),v.prepend($canvas),p=$canvas[0],q=p.getContext(\"2d\"),f();for(var b=Math.round(p.width*p.height/d.density),c=0;b>c;c++){var e=new l;e.setStackPos(c),x.push(e)}a(window).on(\"resize\",function(){h()}),a(document).on(\"mousemove\",function(a){y=a.pageX,z=a.pageY}),B&&!A&&window.addEventListener(\"deviceorientation\",function(){D=Math.min(Math.max(-event.beta,-30),30),C=Math.min(Math.max(-event.gamma,-30),30)},!0),g(),o(\"onInit\")}}function f(){p.width=v.width(),p.height=v.height(),q.fillStyle=d.dotColor,q.strokeStyle=d.lineColor,q.lineWidth=d.lineWidth}function g(){if(w){s=a(window).width(),t=a(window).height(),q.clearRect(0,0,p.width,p.height);for(var b=0;b<x.length;b++)x[b].updatePosition();for(var b=0;b<x.length;b++)x[b].draw();E||(r=requestAnimationFrame(g))}}function h(){for(f(),i=x.length-1;i>=0;i--)(x[i].position.x>v.width()||x[i].position.y>v.height())&&x.splice(i,1);var a=Math.round(p.width*p.height/d.density);if(a>x.length)for(;a>x.length;){var b=new l;x.push(b)}else a<x.length&&x.splice(a);for(i=x.length-1;i>=0;i--)x[i].setStackPos(i)}function j(){E=!0}function k(){E=!1,g()}function l(){switch(this.stackPos,this.active=!0,this.layer=Math.ceil(3*Math.random()),this.parallaxOffsetX=0,this.parallaxOffsetY=0,this.position={x:Math.ceil(Math.random()*p.width),y:Math.ceil(Math.random()*p.height)},this.speed={},d.directionX){case\"left\":this.speed.x=+(-d.maxSpeedX+Math.random()*d.maxSpeedX-d.minSpeedX).toFixed(2);break;case\"right\":this.speed.x=+(Math.random()*d.maxSpeedX+d.minSpeedX).toFixed(2);break;default:this.speed.x=+(-d.maxSpeedX/2+Math.random()*d.maxSpeedX).toFixed(2),this.speed.x+=this.speed.x>0?d.minSpeedX:-d.minSpeedX}switch(d.directionY){case\"up\":this.speed.y=+(-d.maxSpeedY+Math.random()*d.maxSpeedY-d.minSpeedY).toFixed(2);break;case\"down\":this.speed.y=+(Math.random()*d.maxSpeedY+d.minSpeedY).toFixed(2);break;default:this.speed.y=+(-d.maxSpeedY/2+Math.random()*d.maxSpeedY).toFixed(2),this.speed.x+=this.speed.y>0?d.minSpeedY:-d.minSpeedY}}function m(a,b){return b?void(d[a]=b):d[a]}function n(){v.find(\".pg-canvas\").remove(),o(\"onDestroy\"),v.removeData(\"plugin_\"+c)}function o(a){void 0!==d[a]&&d[a].call(u)}var p,q,r,s,t,u=b,v=a(b),w=!!document.createElement(\"canvas\").getContext,x=[],y=0,z=0,A=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),B=!!window.DeviceOrientationEvent,C=0,D=0,E=!1;return d=a.extend({},a.fn[c].defaults,d),l.prototype.draw=function(){q.beginPath(),q.arc(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY,d.particleRadius/2,0,2*Math.PI,!0),q.closePath(),q.fill(),q.beginPath();for(var a=x.length-1;a>this.stackPos;a--){var b=x[a],c=this.position.x-b.position.x,e=this.position.y-b.position.y,f=Math.sqrt(c*c+e*e).toFixed(2);f<d.proximity&&(q.moveTo(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY),d.curvedLines?q.quadraticCurveTo(Math.max(b.position.x,b.position.x),Math.min(b.position.y,b.position.y),b.position.x+b.parallaxOffsetX,b.position.y+b.parallaxOffsetY):q.lineTo(b.position.x+b.parallaxOffsetX,b.position.y+b.parallaxOffsetY))}q.stroke(),q.closePath()},l.prototype.updatePosition=function(){if(d.parallax){if(B&&!A){var a=(s-0)/60;pointerX=(C- -30)*a+0;var b=(t-0)/60;pointerY=(D- -30)*b+0}else pointerX=y,pointerY=z;this.parallaxTargX=(pointerX-s/2)/(d.parallaxMultiplier*this.layer),this.parallaxOffsetX+=(this.parallaxTargX-this.parallaxOffsetX)/10,this.parallaxTargY=(pointerY-t/2)/(d.parallaxMultiplier*this.layer),this.parallaxOffsetY+=(this.parallaxTargY-this.parallaxOffsetY)/10}switch(d.directionX){case\"left\":this.position.x+this.speed.x+this.parallaxOffsetX<0&&(this.position.x=v.width()-this.parallaxOffsetX);break;case\"right\":this.position.x+this.speed.x+this.parallaxOffsetX>v.width()&&(this.position.x=0-this.parallaxOffsetX);break;default:(this.position.x+this.speed.x+this.parallaxOffsetX>v.width()||this.position.x+this.speed.x+this.parallaxOffsetX<0)&&(this.speed.x=-this.speed.x)}switch(d.directionY){case\"up\":this.position.y+this.speed.y+this.parallaxOffsetY<0&&(this.position.y=v.height()-this.parallaxOffsetY);break;case\"down\":this.position.y+this.speed.y+this.parallaxOffsetY>v.height()&&(this.position.y=0-this.parallaxOffsetY);break;default:(this.position.y+this.speed.y+this.parallaxOffsetY>v.height()||this.position.y+this.speed.y+this.parallaxOffsetY<0)&&(this.speed.y=-this.speed.y)}this.position.x+=this.speed.x,this.position.y+=this.speed.y},l.prototype.setStackPos=function(a){this.stackPos=a},e(),{option:m,destroy:n,start:k,pause:j}}var c=\"particleground\";a.fn[c]=function(d){if(\"string\"==typeof arguments[0]){var e,f=arguments[0],g=Array.prototype.slice.call(arguments,1);return this.each(function(){a.data(this,\"plugin_\"+c)&&\"function\"==typeof a.data(this,\"plugin_\"+c)[f]&&(e=a.data(this,\"plugin_\"+c)[f].apply(this,g))}),void 0!==e?e:this}return\"object\"!=typeof d&&d?void 0:this.each(function(){a.data(this,\"plugin_\"+c)||a.data(this,\"plugin_\"+c,new b(this,d))})},a.fn[c].defaults={minSpeedX:.1,maxSpeedX:.7,minSpeedY:.1,maxSpeedY:.7,directionX:\"center\",directionY:\"center\",density:1e4,dotColor:\"#666666\",lineColor:\"#666666\",particleRadius:7,lineWidth:1,curvedLines:!1,proximity:100,parallax:!0,parallaxMultiplier:5,onInit:function(){},onDestroy:function(){}}}(jQuery),/**"," * requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel"," * @see: http://paulirish.com/2011/requestanimationframe-for-smart-animating/"," * @see: http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating"," * @license: MIT license"," */","function(){for(var a=0,b=[\"ms\",\"moz\",\"webkit\",\"o\"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[b[c]+\"CancelAnimationFrame\"]||window[b[c]+\"CancelRequestAnimationFrame\"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();","","jQuery(document).ready(function($) {","  $('body').particleground({","    dotColor: '#859398',","    lineColor: '#859398'","  });","});"],"id":51}],[{"start":{"row":166,"column":0},"end":{"row":199,"column":3},"action":"remove","lines":["","/**"," * Particleground"," *"," * @author Jonathan Nicol - @mrjnicol"," * @version 1.0.1"," * @description Creates a canvas based particle system background"," *"," * Inspired by:"," * http://requestlab.fr/"," * http://disruptivebydesign.com/"," * "," * @license The MIT License (MIT)"," * "," * Copyright (c) 2014 Jonathan Nicol - @mrjnicol"," * "," * Permission is hereby granted, free of charge, to any person obtaining a copy"," * of this software and associated documentation files (the \"Software\"), to deal"," * in the Software without restriction, including without limitation the rights"," * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell"," * copies of the Software, and to permit persons to whom the Software is"," * furnished to do so, subject to the following conditions:"," * "," * The above copyright notice and this permission notice shall be included in"," * all copies or substantial portions of the Software."," * "," * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR"," * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,"," * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE"," * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER"," * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,"," * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN"," * THE SOFTWARE."," */"],"id":52}],[{"start":{"row":0,"column":0},"end":{"row":185,"column":0},"action":"remove","lines":["// width = verge.viewportW();","// height = verge.viewportH();","","// buildTess = function(width, height) {","//   // var counter = 0;","//   var svg;","//   var path, path2, path3;","//   var animate;","//   var points = 50;","//   var width = width,","//     height = height;","//   var vertices,","//     vertices2,","//     vertices3;","//   var point = [1, 1];","//   //setting x and y speed by % of viewport seems to give better performance then hard coded pixel amounts","//   var xVelocity = width * 0.002;","//   var yVelocity = height * 0.0025;","","//   loadVertices(points);","","//   function newVertices(points) {","//     return d3.range(points).map(function(d) {","//       return [Math.random() * width, Math.random() * height];","//     });","//   }","","//   var voronoi = d3.geom.voronoi()","//     .clipExtent([","//       [0, 0],","//       [width, height]","//     ]);","","//   function zoomView() {","//     var points = vertices.length;","//     var fontSize = parseInt($(\"div.top h1\").css(\"font-size\").split(\"px\")[0]);","//     if (points >= 20) {","//       points = points - 10;","//       $(\"div.top h1\").css(\"font-size\", fontSize + 10);","//     }","//     loadVertices(points);","//     render();","","//   };","","//   var drag = d3.behavior.drag()","//     .on(\"dragstart\", function() {","//       //clear auto calling animate when dragging begins","//       clearInterval(animate);","//     })","//     .on(\"drag\", function() {","//       //touch events","//       touchXY = [d3.event.x, d3.event.y];","//       point = touchXY;","//       render();","//     })","//     .on(\"dragend\", function() {","//       animate = setInterval(function() {","//         render();","//       }, 5);","//     })","","//   svg = d3.select(\"#chart\").append(\"svg\")","//     .attr(\"width\", width)","//     .attr(\"height\", height)","//     //remove the following listeners if you simply want animation and no interaction ","//     .on(\"mousemove\", function() {","//       //stop calling animate when mouse takes control","//       clearInterval(animate);","//       var mouseXY = d3.mouse(this);","//       point = mouseXY;","//       render();","//     })","//     .on(\"click\", function() {","//       var mouseXY = [d3.event.x, d3.event.y];","//       point = mouseXY;","//       //reduce number of nodes on screen to give illusion of zooming in","//       zoomView(point);","//     })","//     .on('mouseleave', function() {","//       //restart animation after mouse lives viewport","//       animate = setInterval(function() {","//         render();","//       }, 5);","//     })","//     .call(drag);","","//   path = svg.append(\"g\").selectAll(\"path\");","//   path2 = svg.append(\"g\").selectAll(\"path\");","//   path3 = svg.append(\"g\").selectAll(\"path\");","","//   svg.append(\"rect\")","//     .attr(\"width\", width)","//     .attr(\"height\", height);","","//   //kick off continuous animation... raising the interval will  trigger the browser to paint and actually reduce performance","//   animate = setInterval(function() {","//     render();","//   }, 5);","","//   function render() {","//     var crntX = point[0];","//     var crntY = point[1];","//     var newX, newY;","//     //if moving point is at the right or left edges switch x direction","//     if (crntX >= width || crntX <= 0) {","//       xVelocity *= -1;","//     }","//     //if moving point is at the top or bottom edges switch y direction","//     if (crntY >= height || crntY <= 0) {","//       yVelocity *= -1;","//     }","","//     newX = crntX + xVelocity;","//     newY = crntY + yVelocity;","","//     redraw([newX, newY]);","//     point = [newX, newY];","","//   }","","//   function loadVertices(points) {","//     vertices = newVertices(points);","//     vertices2 = newVertices(points);","//     vertices3 = newVertices(points);","//   };","","//   function redraw(mouseXY) {","//     vertices[0] = mouseXY;","//     path = path.data(voronoi(vertices), polygon);","//     path.exit().remove();","//     path.enter().append(\"path\")","//       .attr(\"d\", polygon);","//     path.order();","","//     vertices2[0] = mouseXY;","//     path2 = path2.data(voronoi(vertices2), polygon);","//     path2.exit().remove();","//     path2.enter().append(\"path\")","//       .attr(\"d\", polygon);","//     path2.order();","","//     vertices3[0] = mouseXY;","//     path3 = path3.data(voronoi(vertices3), polygon);","//     path3.exit().remove();","//     path3.enter().append(\"path\")","//       .attr(\"d\", polygon);","//     path3.order();","//   }","","//   function polygon(d) {","//     return \"M\" + d.join(\"L\") + \"Z\";","//   }","","//   function getRandom() {","//     return Math.random() * (10 - 3) + 3;","//   }","// };","","// buildTess(width, height)","","","","","","","","!function(a){function b(b,d){function e(){if(w){$canvas=a('<canvas class=\"pg-canvas\"></canvas>'),v.prepend($canvas),p=$canvas[0],q=p.getContext(\"2d\"),f();for(var b=Math.round(p.width*p.height/d.density),c=0;b>c;c++){var e=new l;e.setStackPos(c),x.push(e)}a(window).on(\"resize\",function(){h()}),a(document).on(\"mousemove\",function(a){y=a.pageX,z=a.pageY}),B&&!A&&window.addEventListener(\"deviceorientation\",function(){D=Math.min(Math.max(-event.beta,-30),30),C=Math.min(Math.max(-event.gamma,-30),30)},!0),g(),o(\"onInit\")}}function f(){p.width=v.width(),p.height=v.height(),q.fillStyle=d.dotColor,q.strokeStyle=d.lineColor,q.lineWidth=d.lineWidth}function g(){if(w){s=a(window).width(),t=a(window).height(),q.clearRect(0,0,p.width,p.height);for(var b=0;b<x.length;b++)x[b].updatePosition();for(var b=0;b<x.length;b++)x[b].draw();E||(r=requestAnimationFrame(g))}}function h(){for(f(),i=x.length-1;i>=0;i--)(x[i].position.x>v.width()||x[i].position.y>v.height())&&x.splice(i,1);var a=Math.round(p.width*p.height/d.density);if(a>x.length)for(;a>x.length;){var b=new l;x.push(b)}else a<x.length&&x.splice(a);for(i=x.length-1;i>=0;i--)x[i].setStackPos(i)}function j(){E=!0}function k(){E=!1,g()}function l(){switch(this.stackPos,this.active=!0,this.layer=Math.ceil(3*Math.random()),this.parallaxOffsetX=0,this.parallaxOffsetY=0,this.position={x:Math.ceil(Math.random()*p.width),y:Math.ceil(Math.random()*p.height)},this.speed={},d.directionX){case\"left\":this.speed.x=+(-d.maxSpeedX+Math.random()*d.maxSpeedX-d.minSpeedX).toFixed(2);break;case\"right\":this.speed.x=+(Math.random()*d.maxSpeedX+d.minSpeedX).toFixed(2);break;default:this.speed.x=+(-d.maxSpeedX/2+Math.random()*d.maxSpeedX).toFixed(2),this.speed.x+=this.speed.x>0?d.minSpeedX:-d.minSpeedX}switch(d.directionY){case\"up\":this.speed.y=+(-d.maxSpeedY+Math.random()*d.maxSpeedY-d.minSpeedY).toFixed(2);break;case\"down\":this.speed.y=+(Math.random()*d.maxSpeedY+d.minSpeedY).toFixed(2);break;default:this.speed.y=+(-d.maxSpeedY/2+Math.random()*d.maxSpeedY).toFixed(2),this.speed.x+=this.speed.y>0?d.minSpeedY:-d.minSpeedY}}function m(a,b){return b?void(d[a]=b):d[a]}function n(){v.find(\".pg-canvas\").remove(),o(\"onDestroy\"),v.removeData(\"plugin_\"+c)}function o(a){void 0!==d[a]&&d[a].call(u)}var p,q,r,s,t,u=b,v=a(b),w=!!document.createElement(\"canvas\").getContext,x=[],y=0,z=0,A=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),B=!!window.DeviceOrientationEvent,C=0,D=0,E=!1;return d=a.extend({},a.fn[c].defaults,d),l.prototype.draw=function(){q.beginPath(),q.arc(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY,d.particleRadius/2,0,2*Math.PI,!0),q.closePath(),q.fill(),q.beginPath();for(var a=x.length-1;a>this.stackPos;a--){var b=x[a],c=this.position.x-b.position.x,e=this.position.y-b.position.y,f=Math.sqrt(c*c+e*e).toFixed(2);f<d.proximity&&(q.moveTo(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY),d.curvedLines?q.quadraticCurveTo(Math.max(b.position.x,b.position.x),Math.min(b.position.y,b.position.y),b.position.x+b.parallaxOffsetX,b.position.y+b.parallaxOffsetY):q.lineTo(b.position.x+b.parallaxOffsetX,b.position.y+b.parallaxOffsetY))}q.stroke(),q.closePath()},l.prototype.updatePosition=function(){if(d.parallax){if(B&&!A){var a=(s-0)/60;pointerX=(C- -30)*a+0;var b=(t-0)/60;pointerY=(D- -30)*b+0}else pointerX=y,pointerY=z;this.parallaxTargX=(pointerX-s/2)/(d.parallaxMultiplier*this.layer),this.parallaxOffsetX+=(this.parallaxTargX-this.parallaxOffsetX)/10,this.parallaxTargY=(pointerY-t/2)/(d.parallaxMultiplier*this.layer),this.parallaxOffsetY+=(this.parallaxTargY-this.parallaxOffsetY)/10}switch(d.directionX){case\"left\":this.position.x+this.speed.x+this.parallaxOffsetX<0&&(this.position.x=v.width()-this.parallaxOffsetX);break;case\"right\":this.position.x+this.speed.x+this.parallaxOffsetX>v.width()&&(this.position.x=0-this.parallaxOffsetX);break;default:(this.position.x+this.speed.x+this.parallaxOffsetX>v.width()||this.position.x+this.speed.x+this.parallaxOffsetX<0)&&(this.speed.x=-this.speed.x)}switch(d.directionY){case\"up\":this.position.y+this.speed.y+this.parallaxOffsetY<0&&(this.position.y=v.height()-this.parallaxOffsetY);break;case\"down\":this.position.y+this.speed.y+this.parallaxOffsetY>v.height()&&(this.position.y=0-this.parallaxOffsetY);break;default:(this.position.y+this.speed.y+this.parallaxOffsetY>v.height()||this.position.y+this.speed.y+this.parallaxOffsetY<0)&&(this.speed.y=-this.speed.y)}this.position.x+=this.speed.x,this.position.y+=this.speed.y},l.prototype.setStackPos=function(a){this.stackPos=a},e(),{option:m,destroy:n,start:k,pause:j}}var c=\"particleground\";a.fn[c]=function(d){if(\"string\"==typeof arguments[0]){var e,f=arguments[0],g=Array.prototype.slice.call(arguments,1);return this.each(function(){a.data(this,\"plugin_\"+c)&&\"function\"==typeof a.data(this,\"plugin_\"+c)[f]&&(e=a.data(this,\"plugin_\"+c)[f].apply(this,g))}),void 0!==e?e:this}return\"object\"!=typeof d&&d?void 0:this.each(function(){a.data(this,\"plugin_\"+c)||a.data(this,\"plugin_\"+c,new b(this,d))})},a.fn[c].defaults={minSpeedX:.1,maxSpeedX:.7,minSpeedY:.1,maxSpeedY:.7,directionX:\"center\",directionY:\"center\",density:1e4,dotColor:\"#666666\",lineColor:\"#666666\",particleRadius:7,lineWidth:1,curvedLines:!1,proximity:100,parallax:!0,parallaxMultiplier:5,onInit:function(){},onDestroy:function(){}}}(jQuery),/**"," * requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel"," * @see: http://paulirish.com/2011/requestanimationframe-for-smart-animating/"," * @see: http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating"," * @license: MIT license"," */","function(){for(var a=0,b=[\"ms\",\"moz\",\"webkit\",\"o\"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[b[c]+\"CancelAnimationFrame\"]||window[b[c]+\"CancelRequestAnimationFrame\"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();","","jQuery(document).ready(function($) {","  $('body').particleground({","    dotColor: '#859398',","    lineColor: '#859398'","  });","});","","","","",""],"id":55}],[{"start":{"row":0,"column":0},"end":{"row":46,"column":3},"action":"insert","lines":["/**"," * Particleground"," *"," * @author Jonathan Nicol - @mrjnicol"," * @version 1.0.1"," * @description Creates a canvas based particle system background"," *"," * Inspired by:"," * http://requestlab.fr/"," * http://disruptivebydesign.com/"," * "," * @license The MIT License (MIT)"," * "," * Copyright (c) 2014 Jonathan Nicol - @mrjnicol"," * "," * Permission is hereby granted, free of charge, to any person obtaining a copy"," * of this software and associated documentation files (the \"Software\"), to deal"," * in the Software without restriction, including without limitation the rights"," * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell"," * copies of the Software, and to permit persons to whom the Software is"," * furnished to do so, subject to the following conditions:"," * "," * The above copyright notice and this permission notice shall be included in"," * all copies or substantial portions of the Software."," * "," * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR"," * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,"," * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE"," * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER"," * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,"," * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN"," * THE SOFTWARE."," */","!function(a){function b(b,d){function e(){if(w){$canvas=a('<canvas class=\"pg-canvas\"></canvas>'),v.prepend($canvas),p=$canvas[0],q=p.getContext(\"2d\"),f();for(var b=Math.round(p.width*p.height/d.density),c=0;b>c;c++){var e=new l;e.setStackPos(c),x.push(e)}a(window).on(\"resize\",function(){h()}),a(document).on(\"mousemove\",function(a){y=a.pageX,z=a.pageY}),B&&!A&&window.addEventListener(\"deviceorientation\",function(){D=Math.min(Math.max(-event.beta,-30),30),C=Math.min(Math.max(-event.gamma,-30),30)},!0),g(),o(\"onInit\")}}function f(){p.width=v.width(),p.height=v.height(),q.fillStyle=d.dotColor,q.strokeStyle=d.lineColor,q.lineWidth=d.lineWidth}function g(){if(w){s=a(window).width(),t=a(window).height(),q.clearRect(0,0,p.width,p.height);for(var b=0;b<x.length;b++)x[b].updatePosition();for(var b=0;b<x.length;b++)x[b].draw();E||(r=requestAnimationFrame(g))}}function h(){for(f(),i=x.length-1;i>=0;i--)(x[i].position.x>v.width()||x[i].position.y>v.height())&&x.splice(i,1);var a=Math.round(p.width*p.height/d.density);if(a>x.length)for(;a>x.length;){var b=new l;x.push(b)}else a<x.length&&x.splice(a);for(i=x.length-1;i>=0;i--)x[i].setStackPos(i)}function j(){E=!0}function k(){E=!1,g()}function l(){switch(this.stackPos,this.active=!0,this.layer=Math.ceil(3*Math.random()),this.parallaxOffsetX=0,this.parallaxOffsetY=0,this.position={x:Math.ceil(Math.random()*p.width),y:Math.ceil(Math.random()*p.height)},this.speed={},d.directionX){case\"left\":this.speed.x=+(-d.maxSpeedX+Math.random()*d.maxSpeedX-d.minSpeedX).toFixed(2);break;case\"right\":this.speed.x=+(Math.random()*d.maxSpeedX+d.minSpeedX).toFixed(2);break;default:this.speed.x=+(-d.maxSpeedX/2+Math.random()*d.maxSpeedX).toFixed(2),this.speed.x+=this.speed.x>0?d.minSpeedX:-d.minSpeedX}switch(d.directionY){case\"up\":this.speed.y=+(-d.maxSpeedY+Math.random()*d.maxSpeedY-d.minSpeedY).toFixed(2);break;case\"down\":this.speed.y=+(Math.random()*d.maxSpeedY+d.minSpeedY).toFixed(2);break;default:this.speed.y=+(-d.maxSpeedY/2+Math.random()*d.maxSpeedY).toFixed(2),this.speed.x+=this.speed.y>0?d.minSpeedY:-d.minSpeedY}}function m(a,b){return b?void(d[a]=b):d[a]}function n(){v.find(\".pg-canvas\").remove(),o(\"onDestroy\"),v.removeData(\"plugin_\"+c)}function o(a){void 0!==d[a]&&d[a].call(u)}var p,q,r,s,t,u=b,v=a(b),w=!!document.createElement(\"canvas\").getContext,x=[],y=0,z=0,A=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),B=!!window.DeviceOrientationEvent,C=0,D=0,E=!1;return d=a.extend({},a.fn[c].defaults,d),l.prototype.draw=function(){q.beginPath(),q.arc(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY,d.particleRadius/2,0,2*Math.PI,!0),q.closePath(),q.fill(),q.beginPath();for(var a=x.length-1;a>this.stackPos;a--){var b=x[a],c=this.position.x-b.position.x,e=this.position.y-b.position.y,f=Math.sqrt(c*c+e*e).toFixed(2);f<d.proximity&&(q.moveTo(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY),d.curvedLines?q.quadraticCurveTo(Math.max(b.position.x,b.position.x),Math.min(b.position.y,b.position.y),b.position.x+b.parallaxOffsetX,b.position.y+b.parallaxOffsetY):q.lineTo(b.position.x+b.parallaxOffsetX,b.position.y+b.parallaxOffsetY))}q.stroke(),q.closePath()},l.prototype.updatePosition=function(){if(d.parallax){if(B&&!A){var a=(s-0)/60;pointerX=(C- -30)*a+0;var b=(t-0)/60;pointerY=(D- -30)*b+0}else pointerX=y,pointerY=z;this.parallaxTargX=(pointerX-s/2)/(d.parallaxMultiplier*this.layer),this.parallaxOffsetX+=(this.parallaxTargX-this.parallaxOffsetX)/10,this.parallaxTargY=(pointerY-t/2)/(d.parallaxMultiplier*this.layer),this.parallaxOffsetY+=(this.parallaxTargY-this.parallaxOffsetY)/10}switch(d.directionX){case\"left\":this.position.x+this.speed.x+this.parallaxOffsetX<0&&(this.position.x=v.width()-this.parallaxOffsetX);break;case\"right\":this.position.x+this.speed.x+this.parallaxOffsetX>v.width()&&(this.position.x=0-this.parallaxOffsetX);break;default:(this.position.x+this.speed.x+this.parallaxOffsetX>v.width()||this.position.x+this.speed.x+this.parallaxOffsetX<0)&&(this.speed.x=-this.speed.x)}switch(d.directionY){case\"up\":this.position.y+this.speed.y+this.parallaxOffsetY<0&&(this.position.y=v.height()-this.parallaxOffsetY);break;case\"down\":this.position.y+this.speed.y+this.parallaxOffsetY>v.height()&&(this.position.y=0-this.parallaxOffsetY);break;default:(this.position.y+this.speed.y+this.parallaxOffsetY>v.height()||this.position.y+this.speed.y+this.parallaxOffsetY<0)&&(this.speed.y=-this.speed.y)}this.position.x+=this.speed.x,this.position.y+=this.speed.y},l.prototype.setStackPos=function(a){this.stackPos=a},e(),{option:m,destroy:n,start:k,pause:j}}var c=\"particleground\";a.fn[c]=function(d){if(\"string\"==typeof arguments[0]){var e,f=arguments[0],g=Array.prototype.slice.call(arguments,1);return this.each(function(){a.data(this,\"plugin_\"+c)&&\"function\"==typeof a.data(this,\"plugin_\"+c)[f]&&(e=a.data(this,\"plugin_\"+c)[f].apply(this,g))}),void 0!==e?e:this}return\"object\"!=typeof d&&d?void 0:this.each(function(){a.data(this,\"plugin_\"+c)||a.data(this,\"plugin_\"+c,new b(this,d))})},a.fn[c].defaults={minSpeedX:.1,maxSpeedX:.7,minSpeedY:.1,maxSpeedY:.7,directionX:\"center\",directionY:\"center\",density:1e4,dotColor:\"#666666\",lineColor:\"#666666\",particleRadius:7,lineWidth:1,curvedLines:!1,proximity:100,parallax:!0,parallaxMultiplier:5,onInit:function(){},onDestroy:function(){}}}(jQuery),/**"," * requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel"," * @see: http://paulirish.com/2011/requestanimationframe-for-smart-animating/"," * @see: http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating"," * @license: MIT license"," */","function(){for(var a=0,b=[\"ms\",\"moz\",\"webkit\",\"o\"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[b[c]+\"CancelAnimationFrame\"]||window[b[c]+\"CancelRequestAnimationFrame\"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();","","jQuery(document).ready(function($) {","  $('body').particleground({","    dotColor: '#859398',","    lineColor: '#859398'","  });","});"],"id":65}],[{"start":{"row":46,"column":3},"end":{"row":47,"column":0},"action":"insert","lines":["",""],"id":66}],[{"start":{"row":47,"column":0},"end":{"row":48,"column":0},"action":"insert","lines":["",""],"id":67}],[{"start":{"row":48,"column":0},"end":{"row":49,"column":0},"action":"insert","lines":["",""],"id":68}],[{"start":{"row":49,"column":0},"end":{"row":50,"column":0},"action":"insert","lines":["",""],"id":69}],[{"start":{"row":50,"column":0},"end":{"row":51,"column":0},"action":"insert","lines":["",""],"id":70}],[{"start":{"row":51,"column":0},"end":{"row":52,"column":0},"action":"insert","lines":["",""],"id":71}],[{"start":{"row":52,"column":0},"end":{"row":53,"column":0},"action":"insert","lines":["",""],"id":72}],[{"start":{"row":53,"column":0},"end":{"row":212,"column":24},"action":"insert","lines":["width = verge.viewportW();","height = verge.viewportH();","","buildTess = function(width, height) {","  // var counter = 0;","  var svg;","  var path, path2, path3;","  var animate;","  var points = 50;","  var width = width,","    height = height;","  var vertices,","    vertices2,","    vertices3;","  var point = [1, 1];","  //setting x and y speed by % of viewport seems to give better performance then hard coded pixel amounts","  var xVelocity = width * 0.002;","  var yVelocity = height * 0.0025;","","  loadVertices(points);","","  function newVertices(points) {","    return d3.range(points).map(function(d) {","      return [Math.random() * width, Math.random() * height];","    });","  }","","  var voronoi = d3.geom.voronoi()","    .clipExtent([","      [0, 0],","      [width, height]","    ]);","","  function zoomView() {","    var points = vertices.length;","    var fontSize = parseInt($(\"div.top h1\").css(\"font-size\").split(\"px\")[0]);","    if (points >= 20) {","      points = points - 10;","      $(\"div.top h1\").css(\"font-size\", fontSize + 10);","    }","    loadVertices(points);","    render();","","  };","","  var drag = d3.behavior.drag()","    .on(\"dragstart\", function() {","      //clear auto calling animate when dragging begins","      clearInterval(animate);","    })","    .on(\"drag\", function() {","      //touch events","      touchXY = [d3.event.x, d3.event.y];","      point = touchXY;","      render();","    })","    .on(\"dragend\", function() {","      animate = setInterval(function() {","        render();","      }, 5);","    })","","  svg = d3.select(\"#chart\").append(\"svg\")","    .attr(\"width\", width)","    .attr(\"height\", height)","    //remove the following listeners if you simply want animation and no interaction ","    .on(\"mousemove\", function() {","      //stop calling animate when mouse takes control","      clearInterval(animate);","      var mouseXY = d3.mouse(this);","      point = mouseXY;","      render();","    })","    .on(\"click\", function() {","      var mouseXY = [d3.event.x, d3.event.y];","      point = mouseXY;","      //reduce number of nodes on screen to give illusion of zooming in","      zoomView(point);","    })","    .on('mouseleave', function() {","      //restart animation after mouse lives viewport","      animate = setInterval(function() {","        render();","      }, 5);","    })","    .call(drag);","","  path = svg.append(\"g\").selectAll(\"path\");","  path2 = svg.append(\"g\").selectAll(\"path\");","  path3 = svg.append(\"g\").selectAll(\"path\");","","  svg.append(\"rect\")","    .attr(\"width\", width)","    .attr(\"height\", height);","","  //kick off continuous animation... raising the interval will  trigger the browser to paint and actually reduce performance","  animate = setInterval(function() {","    render();","  }, 5);","","  function render() {","    var crntX = point[0];","    var crntY = point[1];","    var newX, newY;","    //if moving point is at the right or left edges switch x direction","    if (crntX >= width || crntX <= 0) {","      xVelocity *= -1;","    }","    //if moving point is at the top or bottom edges switch y direction","    if (crntY >= height || crntY <= 0) {","      yVelocity *= -1;","    }","","    newX = crntX + xVelocity;","    newY = crntY + yVelocity;","","    redraw([newX, newY]);","    point = [newX, newY];","","  }","","  function loadVertices(points) {","    vertices = newVertices(points);","    vertices2 = newVertices(points);","    vertices3 = newVertices(points);","  };","","  function redraw(mouseXY) {","    vertices[0] = mouseXY;","    path = path.data(voronoi(vertices), polygon);","    path.exit().remove();","    path.enter().append(\"path\")","      .attr(\"d\", polygon);","    path.order();","","    vertices2[0] = mouseXY;","    path2 = path2.data(voronoi(vertices2), polygon);","    path2.exit().remove();","    path2.enter().append(\"path\")","      .attr(\"d\", polygon);","    path2.order();","","    vertices3[0] = mouseXY;","    path3 = path3.data(voronoi(vertices3), polygon);","    path3.exit().remove();","    path3.enter().append(\"path\")","      .attr(\"d\", polygon);","    path3.order();","  }","","  function polygon(d) {","    return \"M\" + d.join(\"L\") + \"Z\";","  }","","  function getRandom() {","    return Math.random() * (10 - 3) + 3;","  }","};","","buildTess(width, height)"],"id":73}],[{"start":{"row":53,"column":0},"end":{"row":53,"column":3},"action":"insert","lines":["// "],"id":74},{"start":{"row":54,"column":0},"end":{"row":54,"column":3},"action":"insert","lines":["// "]},{"start":{"row":56,"column":0},"end":{"row":56,"column":3},"action":"insert","lines":["// "]},{"start":{"row":57,"column":0},"end":{"row":57,"column":3},"action":"insert","lines":["// "]},{"start":{"row":58,"column":0},"end":{"row":58,"column":3},"action":"insert","lines":["// "]},{"start":{"row":59,"column":0},"end":{"row":59,"column":3},"action":"insert","lines":["// "]},{"start":{"row":60,"column":0},"end":{"row":60,"column":3},"action":"insert","lines":["// "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":3},"action":"insert","lines":["// "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":3},"action":"insert","lines":["// "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":3},"action":"insert","lines":["// "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":3},"action":"insert","lines":["// "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":3},"action":"insert","lines":["// "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":3},"action":"insert","lines":["// "]},{"start":{"row":67,"column":0},"end":{"row":67,"column":3},"action":"insert","lines":["// "]},{"start":{"row":68,"column":0},"end":{"row":68,"column":3},"action":"insert","lines":["// "]},{"start":{"row":69,"column":0},"end":{"row":69,"column":3},"action":"insert","lines":["// "]},{"start":{"row":70,"column":0},"end":{"row":70,"column":3},"action":"insert","lines":["// "]},{"start":{"row":72,"column":0},"end":{"row":72,"column":3},"action":"insert","lines":["// "]},{"start":{"row":74,"column":0},"end":{"row":74,"column":3},"action":"insert","lines":["// "]},{"start":{"row":75,"column":0},"end":{"row":75,"column":3},"action":"insert","lines":["// "]},{"start":{"row":76,"column":0},"end":{"row":76,"column":3},"action":"insert","lines":["// "]},{"start":{"row":77,"column":0},"end":{"row":77,"column":3},"action":"insert","lines":["// "]},{"start":{"row":78,"column":0},"end":{"row":78,"column":3},"action":"insert","lines":["// "]},{"start":{"row":80,"column":0},"end":{"row":80,"column":3},"action":"insert","lines":["// "]},{"start":{"row":81,"column":0},"end":{"row":81,"column":3},"action":"insert","lines":["// "]},{"start":{"row":82,"column":0},"end":{"row":82,"column":3},"action":"insert","lines":["// "]},{"start":{"row":83,"column":0},"end":{"row":83,"column":3},"action":"insert","lines":["// "]},{"start":{"row":84,"column":0},"end":{"row":84,"column":3},"action":"insert","lines":["// "]},{"start":{"row":86,"column":0},"end":{"row":86,"column":3},"action":"insert","lines":["// "]},{"start":{"row":87,"column":0},"end":{"row":87,"column":3},"action":"insert","lines":["// "]},{"start":{"row":88,"column":0},"end":{"row":88,"column":3},"action":"insert","lines":["// "]},{"start":{"row":89,"column":0},"end":{"row":89,"column":3},"action":"insert","lines":["// "]},{"start":{"row":90,"column":0},"end":{"row":90,"column":3},"action":"insert","lines":["// "]},{"start":{"row":91,"column":0},"end":{"row":91,"column":3},"action":"insert","lines":["// "]},{"start":{"row":92,"column":0},"end":{"row":92,"column":3},"action":"insert","lines":["// "]},{"start":{"row":93,"column":0},"end":{"row":93,"column":3},"action":"insert","lines":["// "]},{"start":{"row":94,"column":0},"end":{"row":94,"column":3},"action":"insert","lines":["// "]},{"start":{"row":96,"column":0},"end":{"row":96,"column":3},"action":"insert","lines":["// "]},{"start":{"row":98,"column":0},"end":{"row":98,"column":3},"action":"insert","lines":["// "]},{"start":{"row":99,"column":0},"end":{"row":99,"column":3},"action":"insert","lines":["// "]},{"start":{"row":100,"column":0},"end":{"row":100,"column":3},"action":"insert","lines":["// "]},{"start":{"row":101,"column":0},"end":{"row":101,"column":3},"action":"insert","lines":["// "]},{"start":{"row":102,"column":0},"end":{"row":102,"column":3},"action":"insert","lines":["// "]},{"start":{"row":103,"column":0},"end":{"row":103,"column":3},"action":"insert","lines":["// "]},{"start":{"row":104,"column":0},"end":{"row":104,"column":3},"action":"insert","lines":["// "]},{"start":{"row":105,"column":0},"end":{"row":105,"column":3},"action":"insert","lines":["// "]},{"start":{"row":106,"column":0},"end":{"row":106,"column":3},"action":"insert","lines":["// "]},{"start":{"row":107,"column":0},"end":{"row":107,"column":3},"action":"insert","lines":["// "]},{"start":{"row":108,"column":0},"end":{"row":108,"column":3},"action":"insert","lines":["// "]},{"start":{"row":109,"column":0},"end":{"row":109,"column":3},"action":"insert","lines":["// "]},{"start":{"row":110,"column":0},"end":{"row":110,"column":3},"action":"insert","lines":["// "]},{"start":{"row":111,"column":0},"end":{"row":111,"column":3},"action":"insert","lines":["// "]},{"start":{"row":112,"column":0},"end":{"row":112,"column":3},"action":"insert","lines":["// "]},{"start":{"row":113,"column":0},"end":{"row":113,"column":3},"action":"insert","lines":["// "]},{"start":{"row":115,"column":0},"end":{"row":115,"column":3},"action":"insert","lines":["// "]},{"start":{"row":116,"column":0},"end":{"row":116,"column":3},"action":"insert","lines":["// "]},{"start":{"row":117,"column":0},"end":{"row":117,"column":3},"action":"insert","lines":["// "]},{"start":{"row":118,"column":0},"end":{"row":118,"column":3},"action":"insert","lines":["// "]},{"start":{"row":119,"column":0},"end":{"row":119,"column":3},"action":"insert","lines":["// "]},{"start":{"row":120,"column":0},"end":{"row":120,"column":3},"action":"insert","lines":["// "]},{"start":{"row":121,"column":0},"end":{"row":121,"column":3},"action":"insert","lines":["// "]},{"start":{"row":122,"column":0},"end":{"row":122,"column":3},"action":"insert","lines":["// "]},{"start":{"row":123,"column":0},"end":{"row":123,"column":3},"action":"insert","lines":["// "]},{"start":{"row":124,"column":0},"end":{"row":124,"column":3},"action":"insert","lines":["// "]},{"start":{"row":125,"column":0},"end":{"row":125,"column":3},"action":"insert","lines":["// "]},{"start":{"row":126,"column":0},"end":{"row":126,"column":3},"action":"insert","lines":["// "]},{"start":{"row":127,"column":0},"end":{"row":127,"column":3},"action":"insert","lines":["// "]},{"start":{"row":128,"column":0},"end":{"row":128,"column":3},"action":"insert","lines":["// "]},{"start":{"row":129,"column":0},"end":{"row":129,"column":3},"action":"insert","lines":["// "]},{"start":{"row":130,"column":0},"end":{"row":130,"column":3},"action":"insert","lines":["// "]},{"start":{"row":131,"column":0},"end":{"row":131,"column":3},"action":"insert","lines":["// "]},{"start":{"row":132,"column":0},"end":{"row":132,"column":3},"action":"insert","lines":["// "]},{"start":{"row":133,"column":0},"end":{"row":133,"column":3},"action":"insert","lines":["// "]},{"start":{"row":134,"column":0},"end":{"row":134,"column":3},"action":"insert","lines":["// "]},{"start":{"row":135,"column":0},"end":{"row":135,"column":3},"action":"insert","lines":["// "]},{"start":{"row":136,"column":0},"end":{"row":136,"column":3},"action":"insert","lines":["// "]},{"start":{"row":137,"column":0},"end":{"row":137,"column":3},"action":"insert","lines":["// "]},{"start":{"row":138,"column":0},"end":{"row":138,"column":3},"action":"insert","lines":["// "]},{"start":{"row":140,"column":0},"end":{"row":140,"column":3},"action":"insert","lines":["// "]},{"start":{"row":141,"column":0},"end":{"row":141,"column":3},"action":"insert","lines":["// "]},{"start":{"row":142,"column":0},"end":{"row":142,"column":3},"action":"insert","lines":["// "]},{"start":{"row":144,"column":0},"end":{"row":144,"column":3},"action":"insert","lines":["// "]},{"start":{"row":145,"column":0},"end":{"row":145,"column":3},"action":"insert","lines":["// "]},{"start":{"row":146,"column":0},"end":{"row":146,"column":3},"action":"insert","lines":["// "]},{"start":{"row":148,"column":0},"end":{"row":148,"column":3},"action":"insert","lines":["// "]},{"start":{"row":149,"column":0},"end":{"row":149,"column":3},"action":"insert","lines":["// "]},{"start":{"row":150,"column":0},"end":{"row":150,"column":3},"action":"insert","lines":["// "]},{"start":{"row":151,"column":0},"end":{"row":151,"column":3},"action":"insert","lines":["// "]},{"start":{"row":153,"column":0},"end":{"row":153,"column":3},"action":"insert","lines":["// "]},{"start":{"row":154,"column":0},"end":{"row":154,"column":3},"action":"insert","lines":["// "]},{"start":{"row":155,"column":0},"end":{"row":155,"column":3},"action":"insert","lines":["// "]},{"start":{"row":156,"column":0},"end":{"row":156,"column":3},"action":"insert","lines":["// "]},{"start":{"row":157,"column":0},"end":{"row":157,"column":3},"action":"insert","lines":["// "]},{"start":{"row":158,"column":0},"end":{"row":158,"column":3},"action":"insert","lines":["// "]},{"start":{"row":159,"column":0},"end":{"row":159,"column":3},"action":"insert","lines":["// "]},{"start":{"row":160,"column":0},"end":{"row":160,"column":3},"action":"insert","lines":["// "]},{"start":{"row":161,"column":0},"end":{"row":161,"column":3},"action":"insert","lines":["// "]},{"start":{"row":162,"column":0},"end":{"row":162,"column":3},"action":"insert","lines":["// "]},{"start":{"row":163,"column":0},"end":{"row":163,"column":3},"action":"insert","lines":["// "]},{"start":{"row":164,"column":0},"end":{"row":164,"column":3},"action":"insert","lines":["// "]},{"start":{"row":166,"column":0},"end":{"row":166,"column":3},"action":"insert","lines":["// "]},{"start":{"row":167,"column":0},"end":{"row":167,"column":3},"action":"insert","lines":["// "]},{"start":{"row":169,"column":0},"end":{"row":169,"column":3},"action":"insert","lines":["// "]},{"start":{"row":170,"column":0},"end":{"row":170,"column":3},"action":"insert","lines":["// "]},{"start":{"row":172,"column":0},"end":{"row":172,"column":3},"action":"insert","lines":["// "]},{"start":{"row":174,"column":0},"end":{"row":174,"column":3},"action":"insert","lines":["// "]},{"start":{"row":175,"column":0},"end":{"row":175,"column":3},"action":"insert","lines":["// "]},{"start":{"row":176,"column":0},"end":{"row":176,"column":3},"action":"insert","lines":["// "]},{"start":{"row":177,"column":0},"end":{"row":177,"column":3},"action":"insert","lines":["// "]},{"start":{"row":178,"column":0},"end":{"row":178,"column":3},"action":"insert","lines":["// "]},{"start":{"row":180,"column":0},"end":{"row":180,"column":3},"action":"insert","lines":["// "]},{"start":{"row":181,"column":0},"end":{"row":181,"column":3},"action":"insert","lines":["// "]},{"start":{"row":182,"column":0},"end":{"row":182,"column":3},"action":"insert","lines":["// "]},{"start":{"row":183,"column":0},"end":{"row":183,"column":3},"action":"insert","lines":["// "]},{"start":{"row":184,"column":0},"end":{"row":184,"column":3},"action":"insert","lines":["// "]},{"start":{"row":185,"column":0},"end":{"row":185,"column":3},"action":"insert","lines":["// "]},{"start":{"row":186,"column":0},"end":{"row":186,"column":3},"action":"insert","lines":["// "]},{"start":{"row":188,"column":0},"end":{"row":188,"column":3},"action":"insert","lines":["// "]},{"start":{"row":189,"column":0},"end":{"row":189,"column":3},"action":"insert","lines":["// "]},{"start":{"row":190,"column":0},"end":{"row":190,"column":3},"action":"insert","lines":["// "]},{"start":{"row":191,"column":0},"end":{"row":191,"column":3},"action":"insert","lines":["// "]},{"start":{"row":192,"column":0},"end":{"row":192,"column":3},"action":"insert","lines":["// "]},{"start":{"row":193,"column":0},"end":{"row":193,"column":3},"action":"insert","lines":["// "]},{"start":{"row":195,"column":0},"end":{"row":195,"column":3},"action":"insert","lines":["// "]},{"start":{"row":196,"column":0},"end":{"row":196,"column":3},"action":"insert","lines":["// "]},{"start":{"row":197,"column":0},"end":{"row":197,"column":3},"action":"insert","lines":["// "]},{"start":{"row":198,"column":0},"end":{"row":198,"column":3},"action":"insert","lines":["// "]},{"start":{"row":199,"column":0},"end":{"row":199,"column":3},"action":"insert","lines":["// "]},{"start":{"row":200,"column":0},"end":{"row":200,"column":3},"action":"insert","lines":["// "]},{"start":{"row":201,"column":0},"end":{"row":201,"column":3},"action":"insert","lines":["// "]},{"start":{"row":203,"column":0},"end":{"row":203,"column":3},"action":"insert","lines":["// "]},{"start":{"row":204,"column":0},"end":{"row":204,"column":3},"action":"insert","lines":["// "]},{"start":{"row":205,"column":0},"end":{"row":205,"column":3},"action":"insert","lines":["// "]},{"start":{"row":207,"column":0},"end":{"row":207,"column":3},"action":"insert","lines":["// "]},{"start":{"row":208,"column":0},"end":{"row":208,"column":3},"action":"insert","lines":["// "]},{"start":{"row":209,"column":0},"end":{"row":209,"column":3},"action":"insert","lines":["// "]},{"start":{"row":210,"column":0},"end":{"row":210,"column":3},"action":"insert","lines":["// "]},{"start":{"row":212,"column":0},"end":{"row":212,"column":3},"action":"insert","lines":["// "]}],[{"start":{"row":212,"column":27},"end":{"row":213,"column":0},"action":"insert","lines":["",""],"id":75}],[{"start":{"row":213,"column":0},"end":{"row":214,"column":0},"action":"insert","lines":["",""],"id":76}],[{"start":{"row":214,"column":0},"end":{"row":215,"column":0},"action":"insert","lines":["",""],"id":77}],[{"start":{"row":215,"column":0},"end":{"row":216,"column":0},"action":"insert","lines":["",""],"id":78}],[{"start":{"row":216,"column":0},"end":{"row":217,"column":0},"action":"insert","lines":["",""],"id":79}],[{"start":{"row":217,"column":0},"end":{"row":218,"column":0},"action":"insert","lines":["",""],"id":80}],[{"start":{"row":218,"column":0},"end":{"row":219,"column":0},"action":"insert","lines":["",""],"id":81}],[{"start":{"row":219,"column":0},"end":{"row":220,"column":0},"action":"insert","lines":["",""],"id":82}],[{"start":{"row":220,"column":0},"end":{"row":221,"column":0},"action":"insert","lines":["",""],"id":83}],[{"start":{"row":221,"column":0},"end":{"row":222,"column":0},"action":"insert","lines":["",""],"id":84}],[{"start":{"row":218,"column":0},"end":{"row":224,"column":16},"action":"insert","lines":["$(\"#button\").click(function () {","  $(\"#hidden\").toggleClass(\"open\");","  $(\"#button\").toggleClass(\"buttonClose\");  ","});","","","                "],"id":85}],[{"start":{"row":224,"column":0},"end":{"row":225,"column":0},"action":"insert","lines":["",""],"id":86}],[{"start":{"row":225,"column":0},"end":{"row":226,"column":0},"action":"insert","lines":["",""],"id":87}],[{"start":{"row":226,"column":0},"end":{"row":227,"column":0},"action":"insert","lines":["",""],"id":88}],[{"start":{"row":227,"column":0},"end":{"row":228,"column":0},"action":"insert","lines":["",""],"id":89}],[{"start":{"row":228,"column":0},"end":{"row":229,"column":0},"action":"insert","lines":["",""],"id":90}],[{"start":{"row":229,"column":0},"end":{"row":230,"column":0},"action":"insert","lines":["",""],"id":91}],[{"start":{"row":230,"column":0},"end":{"row":231,"column":0},"action":"insert","lines":["",""],"id":92}],[{"start":{"row":231,"column":0},"end":{"row":421,"column":22},"action":"insert","lines":["","","","window.requestAnimFrame = (function(){","  return  window.requestAnimationFrame ||","    window.webkitRequestAnimationFrame ||","    window.mozRequestAnimationFrame    ||","    window.oRequestAnimationFrame      ||","    window.msRequestAnimationFrame     ||","    function( callback ){","    window.setTimeout(callback, 1000 / 60);","  };","})();","","var starfield = (function() {","  // Variables - a quantity which during a calculation is assumed to vary or be capable of varying in value","  var stars = [],","      star_density = 25,","      velocity = {x:0, y: 0},","      star_colors = [\"rgba(0,0,0,.5)\", \"#ffe9c4\", \"#d4fbff\"],","      stars_bg = \"rgba(0,0,0,.5)\",","      frame,","      star_canvas,","      star_context,","      viewport_width,","      viewport_height; ","","  function initialize() {","    // Make canvas","    star_canvas = document.createElement('canvas');","    star_context = star_canvas.getContext('2d');","","    // Get viewport size and resize canvas","    resize_canvas();","       ","    // Draw all the stars, I decided stars come in units of 10 ","    for (var i = 0; i < (star_density*10); i++) {","      var rad = Math.random() * 2;","      create_star(rad);","      // twice as many small stars as big","      var rad = Math.random();","      create_star(rad);","      create_star(rad);","    }","   ","    // Put the canvas on the page","    document.body.appendChild(star_canvas);","    ","    // When you press keys stuff happens ","    document.addEventListener('keydown', function(e) {","      e = e || window.event;","      // We add to the existing velocity, this dampens the speed changes and makes changing directions more gradual just like flying a real spaceship... I imagine","      if (e.keyCode == 39) {","        velocity = {","          x: velocity.x -5, ","          y: velocity.y","        };","      }","      if (e.keyCode == 37) {","        velocity = {","          x: velocity.x +5, ","          y: velocity.y","        };","      }","      if (e.keyCode == 40) {","        velocity = {","          x: velocity.x, ","          y: velocity.y -5","        };","      }","      if (e.keyCode == 38) {","        velocity = {","          x: velocity.x,","          y: velocity.y +5","        };","      }","    }, false);","    ","    // Drawing our first frame starts the drawing loop","    draw_frame();","","    function clear_canvas() {","      // Each frame the canvas is painted wiht semi transparent black - this gives the trail effect behind moving stars","      star_context.fillStyle=stars_bg;","      star_context.fillRect(0, 0, viewport_width, viewport_height);","      ","    }","","    function draw_star() {","      var s = stars.length;","      // for every star","      while(s--) {","        var star = stars[s];","        // update individual stars position","        star.update();","        // render the star to the canvas","        star.render(star_context);","      }","    }","","","    function create_star(rad) {","      // I don't really need a function for create_star, but reads better and easy to expand upon","      stars.push(new star(rad));","    }","","    function draw_frame() {","      clear_canvas();","      // The infinate loop!","      frame = requestAnimFrame(draw_frame);","      draw_star();","    }","","  }","","  function resize_canvas(){","    viewport_width = window.innerWidth;","    viewport_height = window.innerHeight;","    star_canvas.width = viewport_width;","    star_canvas.height = viewport_height;","  }","","","  var star = function(rad) {","    ","    this.alpha    = Math.round((Math.random() * 100 - 70) + 70); // Random brightness","    this.radius = rad || Math.random() * 2; // Radius","    this.color    = star_colors[Math.round(Math.random() * star_colors.length)]; // Random color from array","","    this.pos = {","      // Initial random position","      x: Math.random() * viewport_width, ","      y: Math.random() * viewport_height","    };","","","  };","","  star.prototype = {","","    update: function() {","","      // Depending on the radius the star will move at a differnt speed (slower where a greater perception of depth) ","      // Yes! 3 is a magic number :)","      this.pos.y += velocity.y === 0 ? velocity.y : (velocity.y / (3 - this.radius));","      this.pos.x += velocity.x === 0 ? velocity.x : (velocity.x / (3 - this.radius));","      ","      // Keep the stars on the canvas","      if(this.pos.y > viewport_height){","        this.pos.y = 0;        ","      } else if(this.pos.y < 0){","        this.pos.y = viewport_height;","      }","      // Keep the stars on the canvas in a different direction","      if(this.pos.x > viewport_width){","        this.pos.x = 0;        ","      } else if(this.pos.x < 0){","        this.pos.x = viewport_width;        ","      }","      // Dampen the velocity, ie slow down when you stop telling it to move","      velocity.x = velocity.x /1.00005;","      velocity.y = velocity.y /1.00005;","    },","","    render: function(context) {","      // Draw the star at its current position","      var x = Math.round(this.pos.x),","          y = Math.round(this.pos.y);","","      context.save();","      context.globalCompositeOperation = 'lighter';","      context.globalAlpha = this.alpha;      ","      context.fillStyle = this.color;","      context.beginPath();","      context.moveTo(x, y);","      context.arc(x, y, this.radius, 0, Math.PI * 2, true);","      context.closePath();","      context.fill();","      context.restore();","    }","","  };","  ","  return {","    // Always kick things off with a really cool function name!","    lets_roll: initialize","  };","  ","})();","","starfield.lets_roll();"],"id":93}]],"mark":76,"position":76},"ace":{"folds":[],"scrolltop":1776.6668615341187,"scrollleft":0,"selection":{"start":{"row":231,"column":0},"end":{"row":231,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":true,"wrapToView":true},"firstLineState":0},"timestamp":1431966143364,"hash":"795cc451de74d70a5c3d6acc36ed038503826834"}